/*! For license information please see 263.1a128d20.js.LICENSE.txt */
"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[263],{"1872":function(e,t,r){r.d(t,{"zx":function(){return p},"xv":function(){return m},"G7":function(){return g}});var o=r(7294);const helper_manipulatePropsFunction=(e,t={})=>{const{"dangerouslySetInnerHTML":r,"style":o}=e;return"string"!=typeof o&&(t.style=o),Object.assign(Object.assign({},t),{"dangerouslySetInnerHTML":r})};var n=r(7210),s=r(7109);const a=(0,n.GH)(class extends n.mv{"constructor"(){super(),this.__registerHost(),this.onSubmit=(0,n.yM)(this,"tarobuttonsubmit",7),this.onReset=(0,n.yM)(this,"tarobuttonreset",7),this.disabled=void 0,this.hoverClass="button-hover",this.type="",this.hoverStartTime=20,this.hoverStayTime=70,this.size=void 0,this.plain=void 0,this.loading=!1,this.formType=null,this.hover=!1,this.touch=!1}"onClick"(e){this.disabled&&e.stopPropagation()}"onTouchStart"(){this.disabled||(this.touch=!0,this.hoverClass&&!this.disabled&&setTimeout(()=>{this.touch&&(this.hover=!0)},this.hoverStartTime))}"onTouchEnd"(){this.disabled||(this.touch=!1,this.hoverClass&&!this.disabled&&setTimeout(()=>{this.touch||(this.hover=!1)},this.hoverStayTime),"submit"===this.formType?this.onSubmit.emit():"reset"===this.formType&&this.onReset.emit())}"render"(){const{"disabled":e,"hoverClass":t,"type":r,"size":o,"plain":a,"loading":i,"hover":l}=this,c=(0,s.c)({[`${t}`]:l&&!e});return(0,n.h)(n.AA,{"class":c,"type":r,"plain":a,"loading":i,"size":o,"disabled":e},i&&(0,n.h)("i",{"class":"weui-loading"}),(0,n.h)("slot",null))}get"el"(){return this}static get"style"(){return".weui-loading{vertical-align:middle;background:url(\"data:image/svg+xml;charset=utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 100 100'%3E%3Cpath fill='none' d='M0 0h100v100H0z'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23E9E9E9' rx='5' ry='5' transform='translate(0 -30)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23989697' rx='5' ry='5' transform='rotate(30 105.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%239B999A' rx='5' ry='5' transform='rotate(60 75.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23A3A1A2' rx='5' ry='5' transform='rotate(90 65 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23ABA9AA' rx='5' ry='5' transform='rotate(120 58.66 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23B2B2B2' rx='5' ry='5' transform='rotate(150 54.02 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23BAB8B9' rx='5' ry='5' transform='rotate(180 50 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23C2C0C1' rx='5' ry='5' transform='rotate(-150 45.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23CBCBCB' rx='5' ry='5' transform='rotate(-120 41.34 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23D2D2D2' rx='5' ry='5' transform='rotate(-90 35 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23DADADA' rx='5' ry='5' transform='rotate(-60 24.02 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23E2E2E2' rx='5' ry='5' transform='rotate(-30 -5.98 65)'/%3E%3C/svg%3E\") 0 0/100% no-repeat;width:20px;height:20px;-webkit-animation:1s steps(12,end) infinite weuiLoading;animation:1s steps(12,end) infinite weuiLoading;display:inline-block}@-webkit-keyframes weuiLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes weuiLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.weui-btn_loading .weui-loading{margin:-.2em .34em 0 0}.weui-btn_loading.weui-btn_primary,.weui-btn_loading.weui-btn_warn{color:rgba(255,255,255,.6)}.weui-btn_loading.weui-btn_primary{background-color:#179b16}.weui-btn_loading.weui-btn_warn{background-color:#ce3c39}taro-button-core{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:center;color:#000;-webkit-tap-highlight-color:transparent;background-color:#f8f8f8;border-width:0;border-radius:5px;outline:0;width:100%;margin-left:auto;margin-right:auto;padding-left:14px;padding-right:14px;font-size:18px;line-height:2.55556;text-decoration:none;display:block;position:relative;overflow:hidden}taro-button-core:focus{outline:0}taro-button-core:not([disabled]):active{color:rgba(0,0,0,.6);background-color:#dedede}taro-button-core:after{-webkit-box-sizing:border-box;box-sizing:border-box;content:\" \";-webkit-transform-origin:0 0;transform-origin:0 0;border:1px solid rgba(0,0,0,.2);border-radius:10px;width:200%;height:200%;position:absolute;top:0;left:0;-webkit-transform:scale(.5);transform:scale(.5)}taro-button-core+taro-button-core{margin-top:15px}taro-button-core[type=default]{color:#000;background-color:#f8f8f8}taro-button-core[type=default]:not([disabled]):visited{color:#000}taro-button-core[type=default]:not([disabled]):active{color:rgba(0,0,0,.6);background-color:#dedede}taro-button-core[size=mini]{width:auto;padding:0 1.32em;font-size:13px;line-height:2.3;display:inline-block}taro-button-core[plain],taro-button-core[plain][type=default],taro-button-core[plain][type=primary]{background-color:transparent;border-width:1px}taro-button-core[disabled]{color:rgba(255,255,255,.6)}taro-button-core[disabled][type=default]{color:rgba(0,0,0,.3);background-color:#f7f7f7}taro-button-core[disabled][type=primary]{background-color:#9ed99d}taro-button-core[disabled][type=warn]{background-color:#ec8b89}taro-button-core[loading] .weui-loading{margin:-.2em .34em 0 0}taro-button-core[loading][type=primary],taro-button-core[loading][type=warn]{color:rgba(255,255,255,.6)}taro-button-core[loading][type=primary]{background-color:#179b16}taro-button-core[loading][type=warn]{background-color:#ce3c39}taro-button-core[plain][type=primary]{color:#1aad19;border:1px solid #1aad19}taro-button-core[plain][type=primary]:not([disabled]):active{color:rgba(26,173,25,.6);background-color:transparent;border-color:rgba(26,173,25,.6)}taro-button-core[plain][type=primary]:after{border-width:0}taro-button-core[plain][type=warn]{color:#e64340;border:1px solid #e64340}taro-button-core[plain][type=warn]:not([disabled]):active{color:rgba(230,67,64,.6);background-color:transparent;border-color:rgba(230,67,64,.6)}taro-button-core[plain][type=warn]:after{border-width:0}taro-button-core[plain],taro-button-core[plain][type=default]{color:#353535;border:1px solid #353535}taro-button-core[plain]:not([disabled]):active,taro-button-core[plain][type=default]:not([disabled]):active{color:rgba(53,53,53,.6);background-color:transparent;border-color:rgba(53,53,53,.6)}taro-button-core[plain]:after,taro-button-core[plain][type=default]:after{border-width:0}taro-button-core[type=primary]{color:#fff;background-color:#1aad19}taro-button-core[type=primary]:not([disabled]):visited{color:#fff}taro-button-core[type=primary]:not([disabled]):active{color:rgba(255,255,255,.6);background-color:#179b16}taro-button-core[type=warn]{color:#fff;background-color:#e64340}taro-button-core[type=warn]:not([disabled]):visited{color:#fff}taro-button-core[type=warn]:not([disabled]):active{color:rgba(255,255,255,.6);background-color:#ce3c39}taro-button-core[plain][disabled],taro-button-core[plain][disabled][type=primary]{color:rgba(0,0,0,.3);background-color:#f7f7f7;border:1px solid rgba(0,0,0,.2)}"}},[4,"taro-button-core",{"disabled":[4],"hoverClass":[1,"hover-class"],"type":[1],"hoverStartTime":[2,"hover-start-time"],"hoverStayTime":[2,"hover-stay-time"],"size":[1],"plain":[4],"loading":[4],"formType":[513,"form-type"],"hover":[32],"touch":[32]},[[0,"click","onClick"],[1,"touchstart","onTouchStart"],[1,"touchend","onTouchEnd"]]]);const i=function defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-button-core"].forEach(e=>{if("taro-button-core"===e)customElements.get(e)||customElements.define(e,a)})},l=(0,n.GH)(class extends n.mv{"constructor"(){super(),this.__registerHost(),this.selectable=!1,this.userSelect=!1,this.space=void 0,this.numberOfLines=void 0}"render"(){const e={};return"number"==typeof this.numberOfLines&&(e["--line-clamp"]=this.numberOfLines),(0,n.h)(n.AA,{"style":e},(0,n.h)("slot",null))}static get"style"(){return"taro-text-core{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline}taro-text-core[selectable=true],taro-text-core[user-select=true]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;display:inline-block}taro-text-core[space]{white-space:pre-wrap}taro-text-core[space=ensp]{word-spacing:.5em}taro-text-core[space=nbsp]{word-spacing:1em}taro-text-core[number-of-lines]{--line-clamp:2;word-wrap:break-word;text-overflow:ellipsis;-webkit-line-clamp:var(--line-clamp);-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}"}},[4,"taro-text-core",{"selectable":[1028],"userSelect":[1028,"user-select"],"space":[1025],"numberOfLines":[2,"number-of-lines"]}]);const c=function taro_text_core_defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-text-core"].forEach(e=>{if("taro-text-core"===e)customElements.get(e)||customElements.define(e,l)})};const d=(0,n.GH)(class extends n.mv{"constructor"(){super(),this.__registerHost(),this.onLongPress=(0,n.yM)(this,"longpress",7),this.startTime=0,this.animation=void 0,this.hoverClass=void 0,this.hoverStartTime=50,this.hoverStayTime=400,this.hover=!1,this.touch=!1}"onTouchStart"(){this.hoverClass&&(this.touch=!0,setTimeout(()=>{this.touch&&(this.hover=!0)},this.hoverStartTime)),this.timeoutEvent=setTimeout(()=>{this.onLongPress.emit()},350),this.startTime=Date.now()}"onTouchMove"(){clearTimeout(this.timeoutEvent)}"onTouchEnd"(){Date.now()-this.startTime<350&&clearTimeout(this.timeoutEvent),this.hoverClass&&(this.touch=!1,setTimeout(()=>{this.touch||(this.hover=!1)},this.hoverStayTime))}"componentDidRender"(){!function handleStencilNodes(e){var t;null===(t=null==e?void 0:e.childNodes)||void 0===t||t.forEach(e=>{e.nodeType===document.COMMENT_NODE&&e["s-cn"]&&(e["s-cn"]=!1),e.nodeType!==document.COMMENT_NODE&&e["s-sr"]&&(e["s-sr"]=!1)})}(this.el)}"render"(){const e=(0,s.c)({[`${this.hoverClass}`]:this.hover});let t={};return this.animation&&(t.animation=this.animation,t["data-animation"]=this.animation),(0,n.h)(n.AA,Object.assign({"class":e},t),(0,n.h)("slot",null))}get"el"(){return this}static get"style"(){return"body,html{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}taro-view-core{display:block}"}},[4,"taro-view-core",{"animation":[1],"hoverClass":[1,"hover-class"],"hoverStartTime":[2,"hover-start-time"],"hoverStayTime":[2,"hover-stay-time"],"hover":[32],"touch":[32]},[[1,"touchstart","onTouchStart"],[1,"touchmove","onTouchMove"],[1,"touchend","onTouchEnd"]]]);const u=function taro_view_core_defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-view-core"].forEach(e=>{if("taro-view-core"===e)customElements.get(e)||customElements.define(e,d)})};var h=r(7582);const mergeRefs=(...e)=>t=>{e.forEach(e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)})},camelToDashCase=e=>e.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`);var f=r(3935);const arrayToMap=e=>{const t=new Map;return e.forEach(e=>t.set(e,e)),t};function getComponentName(e){return e.tagName.replace(/^TARO-/,"").replace(/-CORE$/,"")}function getControlledValue(e){const t=getComponentName(e);return["INPUT","TEXTAREA","SLIDER","PICKER"].includes(t)?"value":"SWITCH"===t?"checked":null}function finishedEventHandler(e){const t=getControlledValue(e);if(!t)return;(0,f.flushSync)(()=>{});const r=function getPropsAfterReactUpdate(e){const t=Object.keys(e).find(e=>e.includes("__reactProps"));return t?e[t]:null}(e);(null==r?void 0:r.hasOwnProperty(t))&&r[t]!==e[t]&&(e[t]=r[t],e.setAttribute(t,r[t]))}const syncEvent=(e,t,r)=>{const o=e.__events||(e.__events={}),n=o[t];if(r){if(n){if(n.fn===r)return;e.removeEventListener(t,n)}const s=o[t]=function(t){(0,f.unstable_batchedUpdates)(()=>r.call(this,t)),finishedEventHandler(e)};s.fn=r,e.addEventListener(t,s)}else n&&e.removeEventListener(t,n)},attachProps=(e,t,r={})=>{if(e instanceof Element){Object.keys(r).forEach(r=>{if(!["style","children","ref","class","className","forwardedRef"].includes(r)&&!t.hasOwnProperty(r))if(/^on([A-Z].*)/.test(r)){const t=r.substring(2).toLowerCase();syncEvent(e,t)}else e[r]=null,e.removeAttribute(camelToDashCase(r))}),e.className=((e,t,r)=>{const o=t.className||t.class,n=r.className||r.class,s=arrayToMap(e),a=arrayToMap(o?o.split(" "):[]),i=arrayToMap(n?n.split(" "):[]),l=[];return s.forEach(e=>{a.has(e)?(l.push(e),a.delete(e)):i.has(e)||l.push(e)}),a.forEach(e=>l.push(e)),l.join(" ")})(e.classList,t,r),Object.keys(t).forEach(r=>{if(!("style"===r&&"string"!=typeof t[r]||["children","ref","class","className","forwardedRef"].includes(r)))if(/^on([A-Z].*)/.test(r)){const o=r.substring(2).toLowerCase();syncEvent(e,o,t[r])}else{e[r]=t[r];"string"===typeof t[r]&&e.setAttribute(camelToDashCase(r),t[r])}});const o=getControlledValue(e);if(o&&t.hasOwnProperty(o)){const t=["INPUT","TEXTAREA"].includes(getComponentName(e))?"input":"change";e.__events||(e.__events={}),e.__events.hasOwnProperty(t)||syncEvent(e,t,function(){})}}};const createComponent_createReactComponent=(e,t,r,n)=>{void 0!==n&&n();const s=e.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");const a=class extends o.Component{"constructor"(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}"componentDidMount"(){!function applyUnControlledDefaultValue(e,t){const r=getControlledValue(e);if(!r)return;const o="default"+r.charAt(0).toUpperCase()+r.slice(1);!t.hasOwnProperty(r)&&t.hasOwnProperty(o)&&(e[r]=t[o],e.setAttribute(r,t[o]))}(this.componentEl,this.props),this.componentDidUpdate(this.props)}"componentDidUpdate"(e){attachProps(this.componentEl,this.props,e)}"render"(){const t=this.props,{"children":n,"forwardedRef":s,"className":a,"ref":i,"style":l}=t,c=(0,h._T)(t,["children","forwardedRef","className","ref","style"]);let d=Object.keys(c).reduce((e,t)=>{const r=c[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){t.substring(2).toLowerCase();0}else{["string","boolean","number"].includes(typeof r)&&(e[camelToDashCase(t)]=r)}return e},{});r&&(d=r(this.props,d));const u=Object.assign(Object.assign({},d),{"ref":mergeRefs(s,this.setComponentElRef)});return(0,o.createElement)(e,u,n)}static get"displayName"(){return s}};return t&&(a.contextType=t),((e,t)=>{const forwardRef=(t,r)=>o.createElement(e,Object.assign({},t,{"forwardedRef":r}));return forwardRef.displayName=t,o.forwardRef(forwardRef)})(a,s)},p=createComponent_createReactComponent("taro-button-core",void 0,helper_manipulatePropsFunction,i),m=createComponent_createReactComponent("taro-text-core",void 0,helper_manipulatePropsFunction,c),g=createComponent_createReactComponent("taro-view-core",void 0,helper_manipulatePropsFunction,u)},"5961":function(e,t,r){r.d(t,{"GF":function(){return a},"YU":function(){return o},"j$":function(){return n},"q2":function(){return s}});var o=function(e){return e.BAMBOO="bamboo",e.DOT="dot",e.CHARACTER="character",e.PINGPONG="pingpong",e.SHARK="shark",e.STAR="star",e.RACKET="racket",e.MEDAL="medal",e.HEART="heart",e}({}),n=7,s=function(e){return e.DIAMOND="diamond",e.GOLD="gold",e.SILVER="silver",e.BRONZE="bronze",e}({}),a=function(e){return e.NORMAL="normal",e.HERO="hero",e}({})},"5263":function(e,t,r){r.r(t),r.d(t,{"default":function(){return T}});var o=r(2982),n=r(1413),s=r(885),a=r(7294),i=r(1872),l=r(3315),c={"star":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="#FFD700" stroke="#E6C200" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',"shark":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 14C22 14 19 14 18 11C18 11 15 13 13 13C11 13 10 11 10 11C10 11 7 13 4 13C2 13 2 17 2 17C2 17 6 19 12 19C18 19 22 17 22 17V14Z" fill="#00BFFF" stroke="#009ACD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="15" cy="14" r="1" fill="white"/><path d="M10 8L12 11H8L10 8Z" fill="#00BFFF" stroke="#009ACD" stroke-width="1"/></svg>',"bamboo":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="4" width="6" height="16" rx="1" fill="#90EE90" stroke="#228B22" stroke-width="2"/><path d="M9 10H15" stroke="#228B22" stroke-width="2"/><path d="M9 14H15" stroke="#228B22" stroke-width="2"/><path d="M10 4V2M14 4V2" stroke="#228B22" stroke-width="2" stroke-linecap="round"/></svg>',"dot":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="6" fill="#FF6347" stroke="#CD5C5C" stroke-width="2"/><circle cx="12" cy="12" r="2" fill="white"/></svg>',"character":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="16" height="16" rx="2" fill="#FFB6C1" stroke="#FF69B4" stroke-width="2"/><path d="M8 8H16M12 8V16M8 16H16" stroke="#C71585" stroke-width="2" stroke-linecap="round"/></svg>',"racket":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="10" r="6" fill="#FF4500" stroke="#8B0000" stroke-width="2"/><path d="M12 16V22" stroke="#8B0000" stroke-width="3" stroke-linecap="round"/><path d="M10 22H14" stroke="#8B0000" stroke-width="3" stroke-linecap="round"/></svg>',"medal":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="14" r="5" fill="#FFD700" stroke="#DAA520" stroke-width="2"/><path d="M12 14L9 4H15L12 14Z" fill="#DAA520" stroke="#DAA520" stroke-width="1"/><path d="M8 4L7 2H17L16 4" stroke="#DAA520" stroke-width="2"/></svg>',"heart":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z" fill="#DC143C" stroke="#8B0000" stroke-width="2"/></svg>',"pingpong":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="8" fill="#FFFFFF" stroke="#D3D3D3" stroke-width="1"/><circle cx="12" cy="12" r="7" stroke="#FFA500" stroke-width="1"/></svg>'},d=r(5893),u=function Tile(e){var t=e.data,r=e.onClick,o=e.width,n=void 0===o?60:o,s=e.height,a=void 0===s?66:s,l=t.type,u=t.isClickable,h=c[l];return(0,d.jsx)(i.G7,{"className":"tile ".concat(u?"":"disabled"),"style":{"width":"".concat(n,"px"),"height":"".concat(a,"px")},"onClick":function handleClick(){u&&r(t)},"children":h?(0,d.jsx)(i.G7,{"className":"icon-container","dangerouslySetInnerHTML":{"__html":h}}):(0,d.jsx)(i.xv,{"className":"content","children":l})})},h=function Board(e){var t=e.tiles,r=e.onTileClick;return(0,d.jsx)(i.G7,{"className":"board","children":(0,d.jsx)(i.G7,{"className":"board-container","children":(0,d.jsx)(i.G7,{"className":"tiles-area","children":t.map(function(e){return(0,d.jsx)(i.G7,{"className":"tile-wrapper","style":{"left":"".concat(36*e.x,"px"),"top":"".concat(32*e.y,"px"),"zIndex":e.layer},"children":(0,d.jsx)(u,{"data":e,"onClick":r,"width":40,"height":44})},e.id)})})})})},f=r(5961),p=function Slot(e){var t=e.tiles,r=Array(f.j$).fill(null).map(function(e,r){return t[r]||null});return(0,d.jsx)(i.G7,{"className":"slot-bar","children":r.map(function(e,t){return(0,d.jsx)(i.G7,{"className":"slot-cell","children":e&&(0,d.jsx)(u,{"data":(0,n.Z)((0,n.Z)({},e),{},{"isClickable":!1}),"onClick":function onClick(){},"width":32,"height":36})},"slot-".concat(t))})})},m=function TempSlot(e){var t=e.stacks,r=e.onStackClick;return t.some(function(e){return e.length>0})?(0,d.jsx)(i.G7,{"className":"temp-slot","children":t.map(function(e,t){return(0,d.jsxs)(i.G7,{"className":"temp-position","onClick":function onClick(){return e.length>0&&r(t)},"children":[e.map(function(t,r){return(0,d.jsx)(i.G7,{"className":"stacked-tile","style":{"zIndex":r,"transform":"translate(-50%, calc(-50% - ".concat(4*r,"px))")},"children":(0,d.jsx)(u,{"data":(0,n.Z)((0,n.Z)({},t),{},{"isClickable":r===e.length-1}),"onClick":function onClick(){},"width":32,"height":36})},t.id)}),0===e.length&&(0,d.jsx)(i.G7,{"className":"empty-slot"})]},t)})}):null},g=function ToolBar(e){var t=e.onUndo,r=e.onShuffle,o=e.onRemove,n=e.undoDisabled,s=void 0!==n&&n,a=e.shuffleDisabled,l=void 0!==a&&a,c=e.removeDisabled,u=void 0!==c&&c;return(0,d.jsxs)(i.G7,{"className":"tool-bar","children":[(0,d.jsxs)(i.G7,{"className":"tool-btn ".concat(s?"disabled":""),"onClick":s?void 0:t,"children":[(0,d.jsx)(i.xv,{"className":"tool-icon","children":"â†©ï¸"}),(0,d.jsx)(i.xv,{"className":"tool-name","children":"æ’¤å›"}),(0,d.jsx)(i.xv,{"className":"tool-count","children":s?"0/1":"1/1"})]}),(0,d.jsxs)(i.G7,{"className":"tool-btn ".concat(u?"disabled":""),"onClick":u?void 0:o,"children":[(0,d.jsx)(i.xv,{"className":"tool-icon","children":"ğŸ“¤"}),(0,d.jsx)(i.xv,{"className":"tool-name","children":"ç§»å‡º"}),(0,d.jsx)(i.xv,{"className":"tool-count","children":u?"0/1":"1/1"})]}),(0,d.jsxs)(i.G7,{"className":"tool-btn ".concat(l?"disabled":""),"onClick":l?void 0:r,"children":[(0,d.jsx)(i.xv,{"className":"tool-icon","children":"ğŸ”€"}),(0,d.jsx)(i.xv,{"className":"tool-name","children":"æ´—ç‰Œ"}),(0,d.jsx)(i.xv,{"className":"tool-count","children":l?"0/1":"1/1"})]})]})},v=r(6891),y=function ChestModal(e){var t=e.chestLevels,r=e.stats,o=e.gameMode,n=e.canChallengeHero,s=e.onClaim,a=e.onHeroChallenge,l=(e.onClose,o===f.GF.HERO),c=t.map(function(e){return(0,v.PR)(e)}),u=(0,v.bV)(t[0]).map(function(e){return(0,v.PR)(e)});return(0,d.jsx)(i.G7,{"className":"chest-modal-overlay","children":(0,d.jsxs)(i.G7,{"className":"chest-modal","children":[(0,d.jsx)(i.xv,{"className":"victory-text","children":l?"ğŸ† Heroé€šå…³ï¼":"ğŸ‰ æ­å–œé€šå…³ï¼"}),(0,d.jsxs)(i.G7,{"className":"chest-container","children":[(0,d.jsx)(i.G7,{"className":"chest-row","children":c.map(function(e,r){return(0,d.jsx)(i.G7,{"className":"chest-display chest-".concat(t[r]),"style":{"borderColor":e.color},"children":(0,d.jsx)(i.xv,{"className":"chest-emoji","children":e.emoji})},r)})}),(0,d.jsx)(i.xv,{"className":"chest-name","style":{"color":c[0].color},"children":t.length>1?"".concat(c.map(function(e){return e.name}).join(" + ")):c[0].name}),l&&(0,d.jsx)(i.xv,{"className":"hero-bonus","children":"ğŸ”¥ HeroåŠ æˆç”Ÿæ•ˆï¼"})]}),(0,d.jsxs)(i.G7,{"className":"stats-container","children":[(0,d.jsxs)(i.G7,{"className":"stat-item","children":[(0,d.jsx)(i.xv,{"className":"stat-label","children":"æŒ‘æˆ˜æ¬¡æ•°"}),(0,d.jsxs)(i.xv,{"className":"stat-value","children":[r.attempts,"æ¬¡"]})]}),(0,d.jsxs)(i.G7,{"className":"stat-item","children":[(0,d.jsx)(i.xv,{"className":"stat-label","children":"é“å…·ä½¿ç”¨"}),(0,d.jsxs)(i.xv,{"className":"stat-value","children":[r.toolsUsed,"ä¸ª"]})]})]}),n&&(0,d.jsxs)(i.G7,{"className":"hero-section","children":[(0,d.jsx)(i.xv,{"className":"hero-title","children":"ğŸ”¥ æŒ‘æˆ˜Heroæ¨¡å¼ï¼Ÿ"}),(0,d.jsxs)(i.xv,{"className":"hero-desc","children":["é€šå…³å¯å‡çº§ä¸º ",u.map(function(e){return"".concat(e.emoji," ").concat(e.name)}).join(" + ")]}),(0,d.jsx)(i.xv,{"className":"hero-warning","children":"âš ï¸ ä»…æœ‰1æ¬¡æœºä¼šï¼Œå¤±è´¥ä¸æ‰£å®ç®±"})]}),(0,d.jsx)(i.G7,{"className":"button-group","children":n?(0,d.jsxs)(d.Fragment,{"children":[(0,d.jsx)(i.zx,{"className":"btn-secondary","onClick":s,"children":"é¢†å–å®ç®±"}),(0,d.jsx)(i.zx,{"className":"btn-primary","onClick":a,"children":"æŒ‘æˆ˜Heroï¼"})]}):(0,d.jsx)(i.zx,{"className":"btn-primary full-width","onClick":s,"children":"é¢†å–å®ç®±"})})]})})},b=[{"day":1,"title":"æ¢¦æƒ³å¯èˆª","subtitle":"The Dream Begins","content":"äº”å²é‚£å¹´çš„å¤å¤©ï¼Œå°é¢–èç¬¬ä¸€æ¬¡èµ°è¿›äº†ä¹’ä¹“çƒé¦†ã€‚çœ‹ç€å¤§å­©å­ä»¬æŒ¥æ‹å‡»çƒçš„æ ·å­ï¼Œå¥¹çš„çœ¼ç›é‡Œé—ªçƒç€å¥½å¥‡çš„å…‰èŠ’ã€‚è¿™ä¸€å¤©ï¼Œä¸€é¢—å…³äºä¹’ä¹“çƒçš„ç§å­ï¼Œåœ¨å¥¹å¿ƒä¸­æ‚„ç„¶ç§ä¸‹ã€‚"},{"day":2,"title":"ç¬¬ä¸€æ¬¡æ¯”èµ›","subtitle":"First Competition","content":"çœé˜Ÿé€‰æ‹”èµ›ä¸Šï¼Œåä¸€å²çš„é¢–èç´§æ¡çƒæ‹ï¼Œæ‰‹å¿ƒå¾®å¾®å‡ºæ±—ã€‚å¯¹é¢æ˜¯æ¯”å¥¹å¤§ä¸¤å²çš„é€‰æ‰‹ï¼Œä½†å¥¹æ²¡æœ‰é€€ç¼©ã€‚ä¸€æ¿åˆä¸€æ¿ï¼Œæ¯ä¸€ä¸ªå›çƒéƒ½å‡èšç€å¥¹è‹¦ç»ƒçš„æ±—æ°´ã€‚æœ€ç»ˆï¼Œå¥¹èµ¢äº†ã€‚"},{"day":3,"title":"å›½å®¶é˜Ÿçš„é—¨","subtitle":"National Team Calling","content":"2015å¹´çš„é‚£ä¸ªç§‹å¤©ï¼Œåäº”å²çš„é¢–èæ”¶åˆ°äº†å›½å®¶é˜Ÿçš„é‚€è¯·ã€‚å½“å¥¹èµ°è¿›é‚£æ‰‡é—¨çš„æ—¶å€™ï¼Œå¥¹çŸ¥é“ï¼ŒçœŸæ­£çš„æŒ‘æˆ˜æ‰åˆšåˆšå¼€å§‹ã€‚è¿™é‡Œæœ‰æœ€å¼ºçš„å¯¹æ‰‹ï¼Œä¹Ÿæœ‰æœ€å¥½çš„è€å¸ˆã€‚"},{"day":4,"title":"ä½è°·ä¸æˆé•¿","subtitle":"Through the Valley","content":"è¿›å…¥å›½å®¶é˜Ÿçš„ç¬¬ä¸€å¹´å¹¶ä¸é¡ºåˆ©ã€‚è¾“çƒã€ä¼¤ç—…ã€æ€å¿µå®¶äºº...ä½†æ¯ä¸€æ¬¡è·Œå€’ï¼Œå¥¹éƒ½é€‰æ‹©çˆ¬èµ·æ¥ç»§ç»­ç»ƒä¹ ã€‚æ·±å¤œçš„è®­ç»ƒé¦†é‡Œï¼Œåªæœ‰å¥¹å’Œçƒåœ¨å¯¹è¯ã€‚"},{"day":5,"title":"ä¸–ç•Œèˆå°","subtitle":"World Stage","content":"2019å¹´ä¸–é”¦èµ›å¥³åŒå†³èµ›ï¼Œé¢–èå’Œæ­æ¡£é…åˆé»˜å¥‘ï¼Œä¸€è·¯è¿‡å…³æ–©å°†ã€‚å½“é‡‘ç‰ŒæŒ‚åœ¨èƒ¸å‰çš„é‚£ä¸€åˆ»ï¼Œå¥¹ç»ˆäºå¯ä»¥éª„å‚²åœ°è¯´ï¼šæˆ‘åšåˆ°äº†ã€‚"},{"day":6,"title":"å¥¥è¿æ¢¦åœ†","subtitle":"Olympic Dream","content":"ä¸œäº¬å¥¥è¿ä¼šçš„èµ›åœºä¸Šï¼Œé¢–èä»£è¡¨ä¸­å›½é˜Ÿç«™åœ¨äº†æœ€é«˜çš„èˆå°ã€‚è™½ç„¶å•æ‰“å†³èµ›æƒœè´¥ï¼Œä½†å¥¹ç”¨å®åŠ›è¯æ˜äº†è‡ªå·±çš„ä¸–ç•Œçº§æ°´å‡†ã€‚é“¶ç‰Œçš„é‡é‡ï¼Œæ˜¯æœªæ¥æ›´å¤§æ¢¦æƒ³çš„èµ·ç‚¹ã€‚"},{"day":7,"title":"ç‹è€…ä¹‹è·¯","subtitle":"Path of Champions","content":"2023å¹´ï¼Œé¢–èç™»é¡¶ä¸–ç•Œç¬¬ä¸€ã€‚ä»äº”å²çš„å°å¥³å­©åˆ°ä¸–ç•Œå† å†›ï¼Œå¥¹ç”¨åå…«å¹´çš„åšæŒè¯ é‡Šäº†ä»€ä¹ˆæ˜¯æ¢¦æƒ³çš„åŠ›é‡ã€‚è€Œè¿™ï¼Œåªæ˜¯å¼€å§‹..."}],x=function getStoryByDay(e){return b.find(function(t){return t.day===e})||null},w=function StoryModal(e){var t=e.storyDay,r=e.onComplete,o=(0,a.useState)(""),n=(0,s.Z)(o,2),l=n[0],c=n[1],u=(0,a.useState)(!1),h=(0,s.Z)(u,2),f=h[0],p=h[1],m=(0,a.useState)(!1),g=(0,s.Z)(m,2),v=g[0],y=g[1],b=x(t);(0,a.useEffect)(function(){if(b){var e=setTimeout(function(){y(!0)},1e3),t=b.content,o=0,n=setInterval(function(){o<t.length?(c(t.slice(0,o+1)),o++):(clearInterval(n),p(!0))},50);return function(){clearTimeout(e),clearInterval(n)}}r()},[b,r]);return b?(0,d.jsx)(i.G7,{"className":"story-modal-overlay","children":(0,d.jsxs)(i.G7,{"className":"story-modal","children":[(0,d.jsxs)(i.G7,{"className":"story-header","children":[(0,d.jsxs)(i.xv,{"className":"story-day","children":["Day ",t]}),(0,d.jsx)(i.xv,{"className":"story-title","children":b.title}),(0,d.jsx)(i.xv,{"className":"story-subtitle","children":b.subtitle})]}),(0,d.jsxs)(i.G7,{"className":"story-content","children":[(0,d.jsx)(i.xv,{"className":"story-text","children":l}),!f&&(0,d.jsx)(i.xv,{"className":"typing-cursor","children":"|"})]}),(0,d.jsxs)(i.G7,{"className":"story-actions","children":[v&&!f&&(0,d.jsx)(i.zx,{"className":"skip-btn","onClick":function handleSkip(){b&&(c(b.content),p(!0))},"children":"è·³è¿‡"}),f&&(0,d.jsx)(i.zx,{"className":"continue-btn","onClick":function handleContinue(){r()},"children":"ç»§ç»­ â†’"})]})]})}):null},C=function isTileBlocked(e,t){return t.some(function(t){if(t.id===e.id)return!1;if(t.layer<=e.layer)return!1;var r=Math.abs(t.x-e.x)<2,o=Math.abs(t.y-e.y)<2;return r&&o})},k=function updateClickableStatus(e){return e.map(function(t){return(0,n.Z)((0,n.Z)({},t),{},{"isClickable":!C(t,e)})})},S=function checkMatch(e){var t={};e.forEach(function(e){t[e.type]=(t[e.type]||0)+1});var r=Object.keys(t).find(function(e){return t[e]>=3});if(r){var o=0;return{"newSlots":e.filter(function(e){return!(e.type===r&&o<3)||(o++,!1)}),"matched":!0}}return{"newSlots":e,"matched":!1}},j=function getDailyLayoutSeed(){var e=new Date;return function hashString(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)}("".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")))},N=function generateDailyLayout(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75,r=function createSeededRandom(e){var t=e;return function(){return(t=1103515245*t+12345&2147483647)/2147483647}}(e),o=[],n=0;n<t;n++)o.push({"x":Math.floor(9*r()),"y":Math.floor(12*r()),"layer":Math.floor(6*r())});return o.sort(function(e,t){return e.layer-t.layer}),o},D=function assignRandomTileTypes(e){for(var t=Object.values(f.YU),r=Math.floor(e.length/3),o=[],n=0;n<r;n++){var s=t[Math.floor(Math.random()*t.length)];o.push(s,s,s)}for(var a=o.length-1;a>0;a--){var i=Math.floor(Math.random()*(a+1)),l=[o[i],o[a]];o[a]=l[0],o[i]=l[1]}var c=e.map(function(e,t){return{"id":"tile-".concat(t),"type":o[t]||f.YU.STAR,"x":e.x,"y":e.y,"layer":e.layer,"isClickable":!0}});return k(c)},E=function generateHeroLevel(e){var t=function generateHeroLayout(e){for(var t=function createSeededRandom(e){var t=e;return function(){return(t=1103515245*t+12345&2147483647)/2147483647}}(e+1e3),r=[],o=0;o<150;o++)r.push({"x":Math.floor(9*t()),"y":Math.floor(12*t()),"layer":Math.floor(8*t())});return r.sort(function(e,t){return e.layer-t.layer}),r}(e);return function assignHeroTileTypes(e){for(var t=Object.values(f.YU),r=[].concat(t),o=Math.floor(e.length/3),n=[],s=0;s<o;s++){var a=r[Math.floor(Math.random()*r.length)];n.push(a,a,a)}for(var i=n.length-1;i>0;i--){var l=Math.floor(Math.random()*(i+1)),c=[n[l],n[i]];n[i]=c[0],n[l]=c[1]}var d=e.map(function(e,t){return{"id":"hero-tile-".concat(t),"type":n[t]||f.YU.STAR,"x":e.x,"y":e.y,"layer":e.layer,"isClickable":!0}});return k(d)}(t)},O=r(3826),T=function Game(){var e=l.ZP.useRouter(),t=(0,a.useState)([]),r=(0,s.Z)(t,2),c=r[0],u=r[1],b=(0,a.useState)([]),C=(0,s.Z)(b,2),T=C[0],R=C[1],A=(0,a.useState)([[],[],[]]),M=(0,s.Z)(A,2),L=M[0],G=M[1],Z=(0,a.useState)("playing"),F=(0,s.Z)(Z,2),H=F[0],_=F[1],I=(0,a.useState)(f.GF.NORMAL),B=(0,s.Z)(I,2),U=B[0],P=B[1],z=(0,a.useState)((0,v.ns)()),V=(0,s.Z)(z,2),$=V[0],Y=V[1],J=(0,a.useState)([f.q2.BRONZE]),K=(0,s.Z)(J,2),W=K[0],X=K[1],Q=(0,a.useState)(!1),ee=(0,s.Z)(Q,2),te=ee[0],re=ee[1],oe=(0,a.useState)(!1),ne=(0,s.Z)(oe,2),se=ne[0],ae=ne[1],ie=(0,a.useState)(!1),le=(0,s.Z)(ie,2),ce=le[0],de=le[1],ue=(0,a.useState)(!1),he=(0,s.Z)(ue,2),fe=he[0],pe=he[1],me=(0,a.useState)(0),ge=(0,s.Z)(me,2),ve=ge[0],ye=ge[1],be=(0,a.useRef)([]),xe=(0,a.useRef)(0);(0,a.useEffect)(function(){var t=j();if(xe.current=t,be.current=N(t,75),"hero"===e.params.mode){var r,o=(null===(r=(0,O.yu)().pendingChest)||void 0===r||null===(r=r.levels)||void 0===r?void 0:r[0])||f.q2.BRONZE;X([o]);var n=E(t);u(n),R([]),G([[],[],[]]),_("playing"),P(f.GF.HERO),re(!0),ae(!0)}else we()},[]);var we=function startNewGame(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=D(be.current);u(t),R([]),G([[],[],[]]),_("playing"),de(!1),e?Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})}):(Y((0,v.ns)()),P(f.GF.NORMAL))},Ce=function handleRetry(){if(Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"attempts":e.attempts+1})}),U===f.GF.HERO){var e=E(xe.current);u(e),R([]),G([[],[],[]]),_("playing"),de(!1),Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})})}else we(!0)},ke=function handleClaim(){console.log("handleClaim - heroAttempted:",te,"gameMode:",U),(0,O.Z9)(W,U===f.GF.HERO),(0,O.gv)($.attempts,!0,W[0],te,U===f.GF.HERO&&"won"===H),de(!1),_("won"),l.ZP.reLaunch({"url":"/pages/home/index"})},Se=se&&!te;return(0,d.jsxs)(i.G7,{"className":"game-page ".concat(U===f.GF.HERO?"hero-mode":""),"children":[(0,d.jsxs)(i.G7,{"className":"header ".concat(U===f.GF.HERO?"hero-header":""),"children":[(0,d.jsxs)(i.G7,{"className":"stats-row","children":[(0,d.jsx)(i.xv,{"className":"day-text ".concat(U===f.GF.HERO?"hero-title":""),"children":U===f.GF.HERO?"ğŸ”¥ HERO MODE":"Day 1"}),(0,d.jsxs)(i.xv,{"className":"attempt-text ".concat(U===f.GF.HERO?"hero-attempt":""),"children":["ç¬¬ ",$.attempts," æ¬¡æŒ‘æˆ˜"]})]}),(0,d.jsxs)(i.G7,{"className":"header-right","children":[(0,d.jsx)(i.zx,{"className":"test-win-btn","onClick":function handleTestWin(){if("playing"===H)if(u([]),R([]),G([[],[],[]]),_("won"),U===f.GF.HERO){var e=(0,v.bV)(W[0]);X(e),de(!0)}else{var t=(0,v.HS)($);X([t]),ae(!0);var r=(0,O.cn)(),o=x(r);r>0&&o?(ye(r),pe(!0)):de(!0)}},"children":"ğŸ¯ ä¸€é”®è¿‡å…³"}),(0,d.jsx)(i.G7,{"className":"tools-status","children":(0,d.jsxs)(i.xv,{"children":["é“å…·: ",$.toolsUsed,"/3"]})})]})]}),(0,d.jsx)(h,{"tiles":c,"onTileClick":function handleTileClick(e){if("playing"===H&&!(T.length>=f.j$)){var t=c.filter(function(t){return t.id!==e.id}),r=k(t),n=[].concat((0,o.Z)(T),[e]);u(r),R(n);var s=S(n),a=s.newSlots;s.matched?R(a):a.length>=f.j$?_("lost"):R(a);var i=L.reduce(function(e,t){return e+t.length},0);if(0===r.length&&0===a.length&&0===i)if(_("won"),U===f.GF.HERO){var l=(0,v.bV)(W[0]);X(l),de(!0)}else{var d=(0,v.HS)($);X([d]),ae(!0);var h=(0,O.cn)(),p=x(h);h>0&&p?(ye(h),pe(!0)):de(!0)}}}}),(0,d.jsx)(m,{"stacks":L,"onStackClick":function handleTempStackClick(e){if("playing"===H){var t=function returnTileFromTempStack(e,t,r,n){if(t.length>=n)return{"newSlot":t,"newTempStacks":r,"success":!1};if(e<0||e>=r.length)return{"newSlot":t,"newTempStacks":r,"success":!1};if(0===r[e].length)return{"newSlot":t,"newTempStacks":r,"success":!1};var s=r.map(function(e){return(0,o.Z)(e)}),a=s[e].pop();return{"newSlot":[].concat((0,o.Z)(t),[a]),"newTempStacks":s,"success":!0}}(e,T,L,f.j$),r=t.newSlot,n=t.newTempStacks;if(t.success){G(n);var s=S(r),a=s.newSlots;s.matched?R(a):a.length>=f.j$?_("lost"):R(a)}}}}),(0,d.jsx)(p,{"tiles":T}),(0,d.jsx)(g,{"onUndo":function handleUndo(){if("playing"===H&&!$.undoUsed){var e=function undoLastTile(e,t){if(0===t.length)return{"newBoard":e,"newSlot":t,"success":!1};var r=t[t.length-1],n=t.slice(0,-1),s=[].concat((0,o.Z)(e),[r]);return{"newBoard":k(s),"newSlot":n,"success":!0}}(c,T),t=e.newBoard,r=e.newSlot;e.success&&(u(t),R(r),Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"undoUsed":!0})}))}},"onShuffle":function handleShuffle(){if("playing"===H&&!$.shuffleUsed){var e=function shuffleBoard(e){for(var t=e.map(function(e){return{"x":e.x,"y":e.y,"layer":e.layer}}),r=(0,o.Z)(t),s=r.length-1;s>0;s--){var a=Math.floor(Math.random()*(s+1)),i=[r[a],r[s]];r[s]=i[0],r[a]=i[1]}var l=e.map(function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{"x":r[t].x,"y":r[t].y,"layer":r[t].layer})});return k(l)}(c);u(e),Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"shuffleUsed":!0})})}},"onRemove":function handleRemove(){if("playing"===H&&0!==T.length&&!$.popUsed){var e=function popTilesToTemp(e,t){if(0===e.length)return{"remainSlot":e,"newTempStacks":t,"success":!1};var r=Math.min(e.length,3),n=e.slice(0,r),s=e.slice(r),a=3===t.length?t.map(function(e){return(0,o.Z)(e)}):[[],[],[]];return n.forEach(function(e,t){a[t].push(e)}),{"remainSlot":s,"newTempStacks":a,"success":!0}}(T,L),t=e.remainSlot,r=e.newTempStacks;e.success&&(R(t),G(r),Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"popUsed":!0})}))}},"undoDisabled":$.undoUsed,"shuffleDisabled":$.shuffleUsed,"removeDisabled":$.popUsed}),fe&&(0,d.jsx)(w,{"storyDay":ve,"onComplete":function handleStoryComplete(){(0,O.OO)(ve),pe(!1),de(!0)}}),ce&&"won"===H&&(0,d.jsx)(y,{"chestLevels":W,"stats":$,"gameMode":U,"canChallengeHero":Se,"onClaim":ke,"onHeroChallenge":function startHeroMode(){var e=E(xe.current);u(e),R([]),G([[],[],[]]),_("playing"),de(!1),P(f.GF.HERO),re(!0),Y(function(e){return(0,n.Z)((0,n.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})})},"onClose":ke}),"lost"===H&&U===f.GF.NORMAL&&(0,d.jsx)(i.G7,{"className":"overlay","children":(0,d.jsxs)(i.G7,{"className":"lost-modal","children":[(0,d.jsx)(i.xv,{"className":"lost-title","children":"æŒ‘æˆ˜å¤±è´¥"}),(0,d.jsx)(i.xv,{"className":"lost-msg","children":"æ§½ä½å·²æ»¡ï¼Œæ— æ³•ç»§ç»­æ¶ˆé™¤"}),(0,d.jsxs)(i.xv,{"className":"lost-attempt","children":["æœ¬æ¬¡æŒ‘æˆ˜ï¼šç¬¬ ",$.attempts," æ¬¡"]}),(0,d.jsx)(i.zx,{"className":"retry-btn","onClick":Ce,"children":"å†æ¥ä¸€æ¬¡"})]})}),"lost"===H&&U===f.GF.HERO&&(0,d.jsx)(i.G7,{"className":"overlay","children":(0,d.jsxs)(i.G7,{"className":"lost-modal hero-lost","children":[(0,d.jsx)(i.xv,{"className":"lost-title","children":"HeroæŒ‘æˆ˜å¤±è´¥"}),(0,d.jsx)(i.xv,{"className":"lost-msg","children":"å†è¯•ä¸€æ¬¡ï¼Œæˆ–é¢†å–å½“å‰å®ç®±"}),(0,d.jsxs)(i.xv,{"className":"chest-keep","children":["å½“å‰ ",W[0]===f.q2.DIAMOND?"ğŸ’":W[0]===f.q2.GOLD?"ğŸ¥‡":W[0]===f.q2.SILVER?"ğŸ¥ˆ":"ğŸ¥‰"," å®ç®±"]}),(0,d.jsxs)(i.xv,{"className":"lost-attempt","children":["æœ¬æ¬¡æŒ‘æˆ˜ï¼šç¬¬ ",$.attempts," æ¬¡"]}),(0,d.jsx)(i.zx,{"className":"retry-btn","onClick":Ce,"children":"å†æ¥ä¸€æ¬¡"}),(0,d.jsx)(i.zx,{"className":"claim-btn-secondary","onClick":ke,"children":"é¢†å–å®ç®±"})]})})]})}},"6891":function(e,t,r){r.d(t,{"Ge":function(){return getChestRewardDetails},"HS":function(){return calculateChestLevel},"PR":function(){return getChestLevelInfo},"bV":function(){return upgradeChestForHero},"kN":function(){return generateRewardsFromChest},"ns":function(){return createInitialStats}});var o=r(5961);function calculateChestLevel(e){var t=e.attempts,r=e.toolsUsed;return 1===t?0===r?o.q2.DIAMOND:1===r?o.q2.GOLD:o.q2.SILVER:2===t?r<=1?o.q2.GOLD:o.q2.SILVER:3===t?r<=2?o.q2.SILVER:o.q2.BRONZE:t>=4&&t<=5&&r<=1?o.q2.SILVER:o.q2.BRONZE}function getChestLevelInfo(e){switch(e){case o.q2.DIAMOND:return{"emoji":"ğŸ’","name":"é’»çŸ³å®ç®±","color":"#00D4FF"};case o.q2.GOLD:return{"emoji":"ğŸ¥‡","name":"é»„é‡‘å®ç®±","color":"#FFD700"};case o.q2.SILVER:return{"emoji":"ğŸ¥ˆ","name":"ç™½é“¶å®ç®±","color":"#C0C0C0"};case o.q2.BRONZE:return{"emoji":"ğŸ¥‰","name":"é’é“œå®ç®±","color":"#CD7F32"}}}function getChestRewardDetails(e){switch(e){case o.q2.DIAMOND:return[{"coins":"é‡‘å¸Ã—500","props":"é“å…·Ã—3","lottery":"æŠ½å¥–åˆ¸Ã—2","physical":"10%å®ä½“å‘¨è¾¹"}];case o.q2.GOLD:return[{"coins":"é‡‘å¸Ã—300","props":"é“å…·Ã—2","lottery":"æŠ½å¥–åˆ¸Ã—1","physical":"3%å®ä½“å‘¨è¾¹"}];case o.q2.SILVER:return[{"coins":"é‡‘å¸Ã—150","props":"é“å…·Ã—1","lottery":"5%æŠ½å¥–åˆ¸","physical":""}];case o.q2.BRONZE:return[{"coins":"é‡‘å¸Ã—50","props":"é“å…·ç¢ç‰‡","lottery":"","physical":""}]}}function upgradeChestForHero(e){switch(e){case o.q2.BRONZE:return[o.q2.GOLD];case o.q2.SILVER:return[o.q2.DIAMOND];case o.q2.GOLD:return[o.q2.DIAMOND,o.q2.GOLD];case o.q2.DIAMOND:return[o.q2.DIAMOND,o.q2.DIAMOND]}}function createInitialStats(){return{"attempts":1,"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1}}function generateRewardsFromChest(e){var t=[],r=getChestRewardDetails(e)[0];if(r.coins&&t.push(r.coins),r.props&&t.push(r.props),r.lottery)if(r.lottery.includes("%")){var o=parseInt(r.lottery);if(100*Math.random()<o){var n=r.lottery.replace(/\d+%/,"");t.push(n||"æŠ½å¥–åˆ¸")}}else t.push(r.lottery);if(r.physical)if(r.physical.includes("%")){var s=parseInt(r.physical);if(100*Math.random()<s){var a=r.physical.replace(/\d+%/,"");t.push(a||"å®ä½“å‘¨è¾¹")}}else t.push(r.physical);return t}},"3826":function(e,t,r){r.d(t,{"lj":function(){return p},"f2":function(){return c},"dH":function(){return v},"zo":function(){return m},"cn":function(){return y},"Sh":function(){return g},"yu":function(){return d},"i6":function(){return x},"OO":function(){return b},"Z9":function(){return f},"Uv":function(){return u},"gv":function(){return h}});var o=r(1413),n=r(1002),s=r(7255);function getItem(e){var t;try{t=JSON.parse(localStorage.getItem(e)||"")}catch(e){}return t&&"object"===(0,n.Z)(t)&&t.hasOwnProperty("data")?{"result":!0,"data":t.data}:{"result":!1}}var a=function setStorageSync(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e){var r={};r="symbol"===(0,n.Z)(t)?{"data":""}:{"data":t},localStorage.setItem(e,JSON.stringify(r))}else console.error((0,s.Hl)({"name":"setStorage","correct":"String","wrong":e}))},i="amio_game_progress",l=function getTodayDateString(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))},c=function createInitialProgress(){return{"todayDate":l(),"todayAttempts":0,"todayCompleted":!1,"todayChestLevel":null,"heroAttempted":!1,"heroCompleted":!1,"pendingChest":null,"consecutiveDays":0,"lastCompletionDate":null,"lastClaimDate":null,"totalDaysPlayed":0,"storyProgress":0,"viewedStories":[],"hasSeenIntro":!1}},d=function loadProgress(){try{var e=function getStorageSync(e){if("string"==typeof e){var t=getItem(e);return t.result?t.data:""}console.error((0,s.Hl)({"name":"getStorageSync","correct":"String","wrong":e}))}(i);if(e){var t=JSON.parse(e);if(t.pendingChest){var r=t.pendingChest;void 0!==r.level&&void 0===r.levels&&(r.levels=[r.level],delete r.level)}void 0===t.lastCompletionDate&&(t.lastCompletionDate=null),void 0===t.storyProgress&&(t.storyProgress=0),void 0===t.viewedStories&&(t.viewedStories=[]),void 0===t.hasSeenIntro&&(t.hasSeenIntro=!1);var n=l();if(t.todayDate!==n){var a=(0,o.Z)((0,o.Z)({},t),{},{"todayDate":n,"todayAttempts":0,"todayCompleted":!1,"todayChestLevel":null,"heroAttempted":!1,"heroCompleted":!1});return u(a),a}return t}}catch(e){console.error("Failed to load progress:",e)}return c()},u=function saveProgress(e){try{a(i,JSON.stringify(e))}catch(e){console.error("Failed to save progress:",e)}},h=function updateTodayStatus(e,t,r,o,n){var s=d(),a=s.todayCompleted,i=new Date,c=l();if(s.todayAttempts=e,s.todayCompleted=t,s.todayChestLevel=r,s.heroAttempted=o,s.heroCompleted=n,t&&!a){if(s.totalDaysPlayed+=1,s.lastCompletionDate){var h=new Date(i);h.setDate(h.getDate()-1);var f="".concat(h.getFullYear(),"-").concat(String(h.getMonth()+1).padStart(2,"0"),"-").concat(String(h.getDate()).padStart(2,"0"));s.lastCompletionDate===f?s.consecutiveDays+=1:s.lastCompletionDate!==c&&(s.consecutiveDays=1)}else s.consecutiveDays=1;s.lastCompletionDate=c}u(s)},f=function savePendingChest(e,t){var r=d(),o=new Date,n=l(),s=!1;if(r.pendingChest){var a=new Date(r.pendingChest.earnedAt);s="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0"))===n}if(r.pendingChest&&s)r.pendingChest.levels=e,r.pendingChest.isHeroBonus=t;else{var i=new Date(o.getTime()+864e5),c=new Date(i.getTime()+864e5);r.pendingChest={"levels":e,"earnedAt":o.toISOString(),"unlockAt":i.toISOString(),"expiresAt":c.toISOString(),"isHeroBonus":t}}u(r)},p=function claimChest(){var e=d(),t=e.pendingChest;if(!t)return null;var r=new Date,o=new Date(t.unlockAt),n=new Date(t.expiresAt);if(r<o)return console.log("Chest not yet unlocked"),null;if(r>n)return console.log("Chest expired"),e.pendingChest=null,u(e),null;var s=l();return e.lastClaimDate=s,e.pendingChest=null,u(e),t},m=function getChestStatus(){var e=d().pendingChest;if(!e)return{"status":"none","chest":null,"remainingTime":0};var t=new Date,r=new Date(e.unlockAt),o=new Date(e.expiresAt);return t>o?{"status":"expired","chest":e,"remainingTime":0}:t<r?{"status":"locked","chest":e,"remainingTime":r.getTime()-t.getTime()}:{"status":"unlocked","chest":e,"remainingTime":o.getTime()-t.getTime()}},g=function getStreakRewardInfo(e){for(var t=0,r=[{"days":7,"reward":"æŠ½å¥–åˆ¸Ã—3"},{"days":14,"reward":"å®ä½“è´´çº¸åŒ…"},{"days":30,"reward":"å®ä½“æ‰‹é“¾/æŒ‚ä»¶"},{"days":60,"reward":"é™å®šç¤¼ç›’"}];t<r.length;t++){var o=r[t];if(e<o.days)return{"nextMilestone":o.days,"daysRemaining":o.days-e,"reward":o.reward}}return null},v=function formatRemainingTime(e){var t=Math.floor(e/1e3),r=Math.floor(t/3600),o=Math.floor(t%3600/60),n=t%60;return"".concat(String(r).padStart(2,"0"),":").concat(String(o).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))},y=function getNextStoryDay(){var e=d(),t=e.storyProgress+1;return e.viewedStories.includes(t)?0:t},b=function markStoryViewed(e){var t=d();t.viewedStories.includes(e)||t.viewedStories.push(e),e>t.storyProgress&&(t.storyProgress=e),u(t)},x=function markIntroSeen(){var e=d();e.hasSeenIntro=!0,u(e)}},"5251":function(e,t,r){var o=r(7294),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={"key":!0,"ref":!0,"__self":!0,"__source":!0};function q(e,t,r){var o,s={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,o)&&!l.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{"$$typeof":n,"type":e,"key":c,"ref":d,"props":s,"_owner":i.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},"5893":function(e,t,r){e.exports=r(5251)},"1413":function(e,t,r){r.d(t,{"Z":function(){return _objectSpread2}});var o=r(4942);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}}}]);