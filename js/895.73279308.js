/*! For license information please see 895.73279308.js.LICENSE.txt */
"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[895],{"2432":function(e,t,o){o.d(t,{"zx":function(){return g},"pf":function(){return x},"xv":function(){return y},"G7":function(){return b}});var r=o(7294);const helper_manipulatePropsFunction=(e,t={})=>{const{"dangerouslySetInnerHTML":o,"style":r}=e;return"string"!=typeof r&&(t.style=r),Object.assign(Object.assign({},t),{"dangerouslySetInnerHTML":o})};var s=o(7210),n=o(7109);const l=(0,s.GH)(class extends s.mv{"constructor"(){super(),this.__registerHost(),this.onSubmit=(0,s.yM)(this,"tarobuttonsubmit",7),this.onReset=(0,s.yM)(this,"tarobuttonreset",7),this.disabled=void 0,this.hoverClass="button-hover",this.type="",this.hoverStartTime=20,this.hoverStayTime=70,this.size=void 0,this.plain=void 0,this.loading=!1,this.formType=null,this.hover=!1,this.touch=!1}"onClick"(e){this.disabled&&e.stopPropagation()}"onTouchStart"(){this.disabled||(this.touch=!0,this.hoverClass&&!this.disabled&&setTimeout(()=>{this.touch&&(this.hover=!0)},this.hoverStartTime))}"onTouchEnd"(){this.disabled||(this.touch=!1,this.hoverClass&&!this.disabled&&setTimeout(()=>{this.touch||(this.hover=!1)},this.hoverStayTime),"submit"===this.formType?this.onSubmit.emit():"reset"===this.formType&&this.onReset.emit())}"render"(){const{"disabled":e,"hoverClass":t,"type":o,"size":r,"plain":l,"loading":i,"hover":a}=this,c=(0,n.c)({[`${t}`]:a&&!e});return(0,s.h)(s.AA,{"class":c,"type":o,"plain":l,"loading":i,"size":r,"disabled":e},i&&(0,s.h)("i",{"class":"weui-loading"}),(0,s.h)("slot",null))}get"el"(){return this}static get"style"(){return".weui-loading{vertical-align:middle;background:url(\"data:image/svg+xml;charset=utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 100 100'%3E%3Cpath fill='none' d='M0 0h100v100H0z'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23E9E9E9' rx='5' ry='5' transform='translate(0 -30)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23989697' rx='5' ry='5' transform='rotate(30 105.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%239B999A' rx='5' ry='5' transform='rotate(60 75.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23A3A1A2' rx='5' ry='5' transform='rotate(90 65 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23ABA9AA' rx='5' ry='5' transform='rotate(120 58.66 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23B2B2B2' rx='5' ry='5' transform='rotate(150 54.02 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23BAB8B9' rx='5' ry='5' transform='rotate(180 50 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23C2C0C1' rx='5' ry='5' transform='rotate(-150 45.98 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23CBCBCB' rx='5' ry='5' transform='rotate(-120 41.34 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23D2D2D2' rx='5' ry='5' transform='rotate(-90 35 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23DADADA' rx='5' ry='5' transform='rotate(-60 24.02 65)'/%3E%3Crect width='7' height='20' x='46.5' y='40' fill='%23E2E2E2' rx='5' ry='5' transform='rotate(-30 -5.98 65)'/%3E%3C/svg%3E\") 0 0/100% no-repeat;width:20px;height:20px;-webkit-animation:1s steps(12,end) infinite weuiLoading;animation:1s steps(12,end) infinite weuiLoading;display:inline-block}@-webkit-keyframes weuiLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes weuiLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.weui-btn_loading .weui-loading{margin:-.2em .34em 0 0}.weui-btn_loading.weui-btn_primary,.weui-btn_loading.weui-btn_warn{color:rgba(255,255,255,.6)}.weui-btn_loading.weui-btn_primary{background-color:#179b16}.weui-btn_loading.weui-btn_warn{background-color:#ce3c39}taro-button-core{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:center;color:#000;-webkit-tap-highlight-color:transparent;background-color:#f8f8f8;border-width:0;border-radius:5px;outline:0;width:100%;margin-left:auto;margin-right:auto;padding-left:14px;padding-right:14px;font-size:18px;line-height:2.55556;text-decoration:none;display:block;position:relative;overflow:hidden}taro-button-core:focus{outline:0}taro-button-core:not([disabled]):active{color:rgba(0,0,0,.6);background-color:#dedede}taro-button-core:after{-webkit-box-sizing:border-box;box-sizing:border-box;content:\" \";-webkit-transform-origin:0 0;transform-origin:0 0;border:1px solid rgba(0,0,0,.2);border-radius:10px;width:200%;height:200%;position:absolute;top:0;left:0;-webkit-transform:scale(.5);transform:scale(.5)}taro-button-core+taro-button-core{margin-top:15px}taro-button-core[type=default]{color:#000;background-color:#f8f8f8}taro-button-core[type=default]:not([disabled]):visited{color:#000}taro-button-core[type=default]:not([disabled]):active{color:rgba(0,0,0,.6);background-color:#dedede}taro-button-core[size=mini]{width:auto;padding:0 1.32em;font-size:13px;line-height:2.3;display:inline-block}taro-button-core[plain],taro-button-core[plain][type=default],taro-button-core[plain][type=primary]{background-color:transparent;border-width:1px}taro-button-core[disabled]{color:rgba(255,255,255,.6)}taro-button-core[disabled][type=default]{color:rgba(0,0,0,.3);background-color:#f7f7f7}taro-button-core[disabled][type=primary]{background-color:#9ed99d}taro-button-core[disabled][type=warn]{background-color:#ec8b89}taro-button-core[loading] .weui-loading{margin:-.2em .34em 0 0}taro-button-core[loading][type=primary],taro-button-core[loading][type=warn]{color:rgba(255,255,255,.6)}taro-button-core[loading][type=primary]{background-color:#179b16}taro-button-core[loading][type=warn]{background-color:#ce3c39}taro-button-core[plain][type=primary]{color:#1aad19;border:1px solid #1aad19}taro-button-core[plain][type=primary]:not([disabled]):active{color:rgba(26,173,25,.6);background-color:transparent;border-color:rgba(26,173,25,.6)}taro-button-core[plain][type=primary]:after{border-width:0}taro-button-core[plain][type=warn]{color:#e64340;border:1px solid #e64340}taro-button-core[plain][type=warn]:not([disabled]):active{color:rgba(230,67,64,.6);background-color:transparent;border-color:rgba(230,67,64,.6)}taro-button-core[plain][type=warn]:after{border-width:0}taro-button-core[plain],taro-button-core[plain][type=default]{color:#353535;border:1px solid #353535}taro-button-core[plain]:not([disabled]):active,taro-button-core[plain][type=default]:not([disabled]):active{color:rgba(53,53,53,.6);background-color:transparent;border-color:rgba(53,53,53,.6)}taro-button-core[plain]:after,taro-button-core[plain][type=default]:after{border-width:0}taro-button-core[type=primary]{color:#fff;background-color:#1aad19}taro-button-core[type=primary]:not([disabled]):visited{color:#fff}taro-button-core[type=primary]:not([disabled]):active{color:rgba(255,255,255,.6);background-color:#179b16}taro-button-core[type=warn]{color:#fff;background-color:#e64340}taro-button-core[type=warn]:not([disabled]):visited{color:#fff}taro-button-core[type=warn]:not([disabled]):active{color:rgba(255,255,255,.6);background-color:#ce3c39}taro-button-core[plain][disabled],taro-button-core[plain][disabled][type=primary]{color:rgba(0,0,0,.3);background-color:#f7f7f7;border:1px solid rgba(0,0,0,.2)}"}},[4,"taro-button-core",{"disabled":[4],"hoverClass":[1,"hover-class"],"type":[1],"hoverStartTime":[2,"hover-start-time"],"hoverStayTime":[2,"hover-stay-time"],"size":[1],"plain":[4],"loading":[4],"formType":[513,"form-type"],"hover":[32],"touch":[32]},[[0,"click","onClick"],[1,"touchstart","onTouchStart"],[1,"touchend","onTouchEnd"]]]);const i=function defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-button-core"].forEach(e=>{if("taro-button-core"===e)customElements.get(e)||customElements.define(e,l)})};var a=o(6585);function handleStencilNodes(e){var t;null===(t=null==e?void 0:e.childNodes)||void 0===t||t.forEach(e=>{e.nodeType===document.COMMENT_NODE&&e["s-cn"]&&(e["s-cn"]=!1),e.nodeType!==document.COMMENT_NODE&&e["s-sr"]&&(e["s-sr"]=!1)})}function easeOutScroll(e,t,o=500,r){if(e===t||"number"!=typeof e)return;const s=t-e,n=Date.now(),l=t>=e;!function step(){e=function linear(e,t,o,r){return o*e/r+t}(Date.now()-n,e,s,o),l&&e>=t||!l&&t>=e?r(t):(r(e),requestAnimationFrame(step))}()}const c=(0,s.GH)(class extends s.mv{"constructor"(){super(),this.__registerHost(),this.onScroll=(0,s.yM)(this,"scroll",3),this.onScrollToUpper=(0,s.yM)(this,"scrolltoupper",3),this.onScrollToLower=(0,s.yM)(this,"scrolltolower",3),this._scrollLeft=0,this._scrollTop=0,this.upperAndLower=(0,a.d)(()=>{const{"offsetWidth":e,"offsetHeight":t,"scrollLeft":o,"scrollTop":r,"scrollHeight":s,"scrollWidth":n}=this.el,l=Number(this.lowerThreshold),i=Number(this.upperThreshold);!isNaN(l)&&(this.scrollY&&t+r+l>=s||this.scrollX&&e+o+l>=n)&&this.onScrollToLower.emit({"direction":this.scrollX?"right":this.scrollY?"bottom":""}),!isNaN(i)&&(this.scrollY&&r<=i||this.scrollX&&o<=i)&&this.onScrollToUpper.emit({"direction":this.scrollX?"left":this.scrollY?"top":""})},200),this.scrollX=!1,this.scrollY=!1,this.upperThreshold=50,this.lowerThreshold=50,this.mpScrollTop=void 0,this.mpScrollLeft=void 0,this.mpScrollIntoView=void 0,this.mpScrollIntoViewAlignment=void 0,this.animated=!1}"watchScrollLeft"(e){const t=Number(e),{"animated":o}=this;this.mpScrollToMethod({"left":t,"animated":o})}"watchScrollTop"(e){const t=Number(e),{"animated":o}=this;this.mpScrollToMethod({"top":t,"animated":o})}"watchScrollIntoView"(e){this.mpScrollIntoViewMethod(e)}"handleScroll"(e){var t;if(e instanceof CustomEvent)return;e.stopPropagation(),null===(t=e.stopImmediatePropagation)||void 0===t||t.call(e);const{"scrollLeft":o,"scrollTop":r,"scrollHeight":s,"scrollWidth":n}=this.el;this._scrollLeft=o,this._scrollTop=r,this.upperAndLower(),this.onScroll.emit({"scrollLeft":o,"scrollTop":r,"scrollHeight":s,"scrollWidth":n})}"handleTouchMove"(e){e instanceof CustomEvent||e.stopPropagation()}async"mpScrollToMethod"(e){let{"top":t,"left":o,"duration":r,"animated":s=!1}=e;this.scrollY&&"number"==typeof t&&!isNaN(t)&&t!==this._scrollTop&&(s?easeOutScroll(this._scrollTop,t,r,e=>this.el.scrollTop=e):this.el.scrollTop=t,this._scrollTop=t),this.scrollX&&"number"==typeof o&&!isNaN(o)&&o!==this._scrollLeft&&(s?easeOutScroll(this._scrollLeft,o,r,e=>this.el.scrollLeft=e):this.el.scrollLeft=o,this._scrollLeft=o)}async"mpScrollIntoViewMethod"(e){var t;"string"==typeof e&&e&&(null===(t=document.querySelector(`#${e}`))||void 0===t||t.scrollIntoView({"behavior":this.animated?"smooth":"auto","block":this.scrollY&&this.mpScrollIntoViewAlignment||"center","inline":this.scrollX&&this.mpScrollIntoViewAlignment||"start"}))}"componentDidLoad"(){const e=Number(this.mpScrollTop),t=Number(this.mpScrollLeft),{"animated":o}=this;this.mpScrollToMethod({"top":e,"left":t,"animated":o})}"componentDidRender"(){handleStencilNodes(this.el)}"render"(){const{"scrollX":e,"scrollY":t}=this,o=(0,n.c)({"taro-scroll-view__scroll-x":e,"taro-scroll-view__scroll-y":t});return(0,s.h)(s.AA,{"class":o},(0,s.h)("slot",null))}get"el"(){return this}static get"watchers"(){return{"mpScrollLeft":["watchScrollLeft"],"mpScrollTop":["watchScrollTop"],"mpScrollIntoView":["watchScrollIntoView"]}}static get"style"(){return"taro-scroll-view-core{-webkit-overflow-scrolling:auto;width:100%;display:block}taro-scroll-view-core::-webkit-scrollbar{display:none}.taro-scroll-view__scroll-x{overflow:scroll hidden}.taro-scroll-view__scroll-y{overflow:hidden scroll}"}},[4,"taro-scroll-view-core",{"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"upperThreshold":[8,"upper-threshold"],"lowerThreshold":[8,"lower-threshold"],"mpScrollTop":[520,"scroll-top"],"mpScrollLeft":[520,"scroll-left"],"mpScrollIntoView":[513,"scroll-into-view"],"mpScrollIntoViewAlignment":[1,"scroll-into-view-alignment"],"animated":[4,"scroll-with-animation"],"mpScrollToMethod":[64],"mpScrollIntoViewMethod":[64]},[[1,"scroll","handleScroll"],[1,"touchmove","handleTouchMove"]]]);const h=function taro_scroll_view_core_defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-scroll-view-core"].forEach(e=>{if("taro-scroll-view-core"===e)customElements.get(e)||customElements.define(e,c)})},d=(0,s.GH)(class extends s.mv{"constructor"(){super(),this.__registerHost(),this.selectable=!1,this.userSelect=!1,this.space=void 0,this.numberOfLines=void 0}"render"(){const e={};return"number"==typeof this.numberOfLines&&(e["--line-clamp"]=this.numberOfLines),(0,s.h)(s.AA,{"style":e},(0,s.h)("slot",null))}static get"style"(){return"taro-text-core{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline}taro-text-core[selectable=true],taro-text-core[user-select=true]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;display:inline-block}taro-text-core[space]{white-space:pre-wrap}taro-text-core[space=ensp]{word-spacing:.5em}taro-text-core[space=nbsp]{word-spacing:1em}taro-text-core[number-of-lines]{--line-clamp:2;word-wrap:break-word;text-overflow:ellipsis;-webkit-line-clamp:var(--line-clamp);-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}"}},[4,"taro-text-core",{"selectable":[1028],"userSelect":[1028,"user-select"],"space":[1025],"numberOfLines":[2,"number-of-lines"]}]);const u=function taro_text_core_defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-text-core"].forEach(e=>{if("taro-text-core"===e)customElements.get(e)||customElements.define(e,d)})},m=(0,s.GH)(class extends s.mv{"constructor"(){super(),this.__registerHost(),this.onLongPress=(0,s.yM)(this,"longpress",7),this.startTime=0,this.animation=void 0,this.hoverClass=void 0,this.hoverStartTime=50,this.hoverStayTime=400,this.hover=!1,this.touch=!1}"onTouchStart"(){this.hoverClass&&(this.touch=!0,setTimeout(()=>{this.touch&&(this.hover=!0)},this.hoverStartTime)),this.timeoutEvent=setTimeout(()=>{this.onLongPress.emit()},350),this.startTime=Date.now()}"onTouchMove"(){clearTimeout(this.timeoutEvent)}"onTouchEnd"(){Date.now()-this.startTime<350&&clearTimeout(this.timeoutEvent),this.hoverClass&&(this.touch=!1,setTimeout(()=>{this.touch||(this.hover=!1)},this.hoverStayTime))}"componentDidRender"(){handleStencilNodes(this.el)}"render"(){const e=(0,n.c)({[`${this.hoverClass}`]:this.hover});let t={};return this.animation&&(t.animation=this.animation,t["data-animation"]=this.animation),(0,s.h)(s.AA,Object.assign({"class":e},t),(0,s.h)("slot",null))}get"el"(){return this}static get"style"(){return"body,html{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}taro-view-core{display:block}"}},[4,"taro-view-core",{"animation":[1],"hoverClass":[1,"hover-class"],"hoverStartTime":[2,"hover-start-time"],"hoverStayTime":[2,"hover-stay-time"],"hover":[32],"touch":[32]},[[1,"touchstart","onTouchStart"],[1,"touchmove","onTouchMove"],[1,"touchend","onTouchEnd"]]]);const p=function taro_view_core_defineCustomElement$1(){if("undefined"==typeof customElements)return;["taro-view-core"].forEach(e=>{if("taro-view-core"===e)customElements.get(e)||customElements.define(e,m)})};var f=o(7582);const mergeRefs=(...e)=>t=>{e.forEach(e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)})},camelToDashCase=e=>e.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`);var v=o(3935);const arrayToMap=e=>{const t=new Map;return e.forEach(e=>t.set(e,e)),t};function getComponentName(e){return e.tagName.replace(/^TARO-/,"").replace(/-CORE$/,"")}function getControlledValue(e){const t=getComponentName(e);return["INPUT","TEXTAREA","SLIDER","PICKER"].includes(t)?"value":"SWITCH"===t?"checked":null}function finishedEventHandler(e){const t=getControlledValue(e);if(!t)return;(0,v.flushSync)(()=>{});const o=function getPropsAfterReactUpdate(e){const t=Object.keys(e).find(e=>e.includes("__reactProps"));return t?e[t]:null}(e);(null==o?void 0:o.hasOwnProperty(t))&&o[t]!==e[t]&&(e[t]=o[t],e.setAttribute(t,o[t]))}const syncEvent=(e,t,o)=>{const r=e.__events||(e.__events={}),s=r[t];if(o){if(s){if(s.fn===o)return;e.removeEventListener(t,s)}const n=r[t]=function(t){(0,v.unstable_batchedUpdates)(()=>o.call(this,t)),finishedEventHandler(e)};n.fn=o,e.addEventListener(t,n)}else s&&e.removeEventListener(t,s)},attachProps=(e,t,o={})=>{if(e instanceof Element){Object.keys(o).forEach(o=>{if(!["style","children","ref","class","className","forwardedRef"].includes(o)&&!t.hasOwnProperty(o))if(/^on([A-Z].*)/.test(o)){const t=o.substring(2).toLowerCase();syncEvent(e,t)}else e[o]=null,e.removeAttribute(camelToDashCase(o))}),e.className=((e,t,o)=>{const r=t.className||t.class,s=o.className||o.class,n=arrayToMap(e),l=arrayToMap(r?r.split(" "):[]),i=arrayToMap(s?s.split(" "):[]),a=[];return n.forEach(e=>{l.has(e)?(a.push(e),l.delete(e)):i.has(e)||a.push(e)}),l.forEach(e=>a.push(e)),a.join(" ")})(e.classList,t,o),Object.keys(t).forEach(o=>{if(!("style"===o&&"string"!=typeof t[o]||["children","ref","class","className","forwardedRef"].includes(o)))if(/^on([A-Z].*)/.test(o)){const r=o.substring(2).toLowerCase();syncEvent(e,r,t[o])}else{e[o]=t[o];"string"===typeof t[o]&&e.setAttribute(camelToDashCase(o),t[o])}});const r=getControlledValue(e);if(r&&t.hasOwnProperty(r)){const t=["INPUT","TEXTAREA"].includes(getComponentName(e))?"input":"change";e.__events||(e.__events={}),e.__events.hasOwnProperty(t)||syncEvent(e,t,function(){})}}};const createComponent_createReactComponent=(e,t,o,s)=>{void 0!==s&&s();const n=e.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");const l=class extends r.Component{"constructor"(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}"componentDidMount"(){!function applyUnControlledDefaultValue(e,t){const o=getControlledValue(e);if(!o)return;const r="default"+o.charAt(0).toUpperCase()+o.slice(1);!t.hasOwnProperty(o)&&t.hasOwnProperty(r)&&(e[o]=t[r],e.setAttribute(o,t[r]))}(this.componentEl,this.props),this.componentDidUpdate(this.props)}"componentDidUpdate"(e){attachProps(this.componentEl,this.props,e)}"render"(){const t=this.props,{"children":s,"forwardedRef":n,"className":l,"ref":i,"style":a}=t,c=(0,f._T)(t,["children","forwardedRef","className","ref","style"]);let h=Object.keys(c).reduce((e,t)=>{const o=c[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){t.substring(2).toLowerCase();0}else{["string","boolean","number"].includes(typeof o)&&(e[camelToDashCase(t)]=o)}return e},{});o&&(h=o(this.props,h));const d=Object.assign(Object.assign({},h),{"ref":mergeRefs(n,this.setComponentElRef)});return(0,r.createElement)(e,d,s)}static get"displayName"(){return n}};return t&&(l.contextType=t),((e,t)=>{const forwardRef=(t,o)=>r.createElement(e,Object.assign({},t,{"forwardedRef":o}));return forwardRef.displayName=t,r.forwardRef(forwardRef)})(l,n)},g=createComponent_createReactComponent("taro-button-core",void 0,helper_manipulatePropsFunction,i),x=createComponent_createReactComponent("taro-scroll-view-core",void 0,helper_manipulatePropsFunction,h),y=createComponent_createReactComponent("taro-text-core",void 0,helper_manipulatePropsFunction,u),b=createComponent_createReactComponent("taro-view-core",void 0,helper_manipulatePropsFunction,p)},"895":function(e,t,o){o.r(t),o.d(t,{"default":function(){return D}});var r=o(2982),s=o(1413),n=o(885),l=o(7294),i=o(2432),a=o(4536),c={"star":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="#FFD700" stroke="#E6C200" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',"shark":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 14C22 14 19 14 18 11C18 11 15 13 13 13C11 13 10 11 10 11C10 11 7 13 4 13C2 13 2 17 2 17C2 17 6 19 12 19C18 19 22 17 22 17V14Z" fill="#00BFFF" stroke="#009ACD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="15" cy="14" r="1" fill="white"/><path d="M10 8L12 11H8L10 8Z" fill="#00BFFF" stroke="#009ACD" stroke-width="1"/></svg>',"bamboo":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="4" width="6" height="16" rx="1" fill="#90EE90" stroke="#228B22" stroke-width="2"/><path d="M9 10H15" stroke="#228B22" stroke-width="2"/><path d="M9 14H15" stroke="#228B22" stroke-width="2"/><path d="M10 4V2M14 4V2" stroke="#228B22" stroke-width="2" stroke-linecap="round"/></svg>',"dot":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="6" fill="#FF6347" stroke="#CD5C5C" stroke-width="2"/><circle cx="12" cy="12" r="2" fill="white"/></svg>',"character":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="16" height="16" rx="2" fill="#FFB6C1" stroke="#FF69B4" stroke-width="2"/><path d="M8 8H16M12 8V16M8 16H16" stroke="#C71585" stroke-width="2" stroke-linecap="round"/></svg>',"racket":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="10" r="6" fill="#FF4500" stroke="#8B0000" stroke-width="2"/><path d="M12 16V22" stroke="#8B0000" stroke-width="3" stroke-linecap="round"/><path d="M10 22H14" stroke="#8B0000" stroke-width="3" stroke-linecap="round"/></svg>',"medal":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="14" r="5" fill="#FFD700" stroke="#DAA520" stroke-width="2"/><path d="M12 14L9 4H15L12 14Z" fill="#DAA520" stroke="#DAA520" stroke-width="1"/><path d="M8 4L7 2H17L16 4" stroke="#DAA520" stroke-width="2"/></svg>',"heart":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z" fill="#DC143C" stroke="#8B0000" stroke-width="2"/></svg>',"pingpong":'<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="8" fill="#FFFFFF" stroke="#D3D3D3" stroke-width="1"/><circle cx="12" cy="12" r="7" stroke="#FFA500" stroke-width="1"/></svg>'},h=o(5893),d=function Tile(e){var t=e.data,o=e.onClick,r=e.width,s=void 0===r?60:r,n=e.height,l=void 0===n?66:n,a=t.type,d=t.isClickable,u=c[a];return(0,h.jsx)(i.G7,{"className":"tile ".concat(d?"":"disabled"),"style":{"width":"".concat(s,"px"),"height":"".concat(l,"px")},"onClick":function handleClick(){d&&o(t)},"children":u?(0,h.jsx)(i.G7,{"className":"icon-container","dangerouslySetInnerHTML":{"__html":u}}):(0,h.jsx)(i.xv,{"className":"content","children":a})})},u=function Board(e){var t=e.tiles,o=e.onTileClick;return(0,h.jsx)(i.G7,{"className":"board","children":(0,h.jsx)(i.G7,{"className":"board-container","children":(0,h.jsx)(i.G7,{"className":"tiles-area","children":t.map(function(e){return(0,h.jsx)(i.G7,{"className":"tile-wrapper","style":{"left":"".concat(36*e.x,"px"),"top":"".concat(32*e.y,"px"),"zIndex":e.layer},"children":(0,h.jsx)(d,{"data":e,"onClick":o,"width":40,"height":44})},e.id)})})})})},m=o(5961),p=function Slot(e){var t=e.tiles,o=Array(m.j$).fill(null).map(function(e,o){return t[o]||null});return(0,h.jsx)(i.G7,{"className":"slot-bar","children":o.map(function(e,t){return(0,h.jsx)(i.G7,{"className":"slot-cell","children":e&&(0,h.jsx)(d,{"data":(0,s.Z)((0,s.Z)({},e),{},{"isClickable":!1}),"onClick":function onClick(){},"width":32,"height":36})},"slot-".concat(t))})})},f=function TempSlot(e){var t=e.stacks,o=e.onStackClick;return t.some(function(e){return e.length>0})?(0,h.jsx)(i.G7,{"className":"temp-slot","children":t.map(function(e,t){return(0,h.jsxs)(i.G7,{"className":"temp-position","onClick":function onClick(){return e.length>0&&o(t)},"children":[e.map(function(t,o){return(0,h.jsx)(i.G7,{"className":"stacked-tile","style":{"zIndex":o,"transform":"translate(-50%, calc(-50% - ".concat(4*o,"px))")},"children":(0,h.jsx)(d,{"data":(0,s.Z)((0,s.Z)({},t),{},{"isClickable":o===e.length-1}),"onClick":function onClick(){},"width":32,"height":36})},t.id)}),0===e.length&&(0,h.jsx)(i.G7,{"className":"empty-slot"})]},t)})}):null},v=function UndoIcon(){return(0,h.jsxs)("svg",{"width":"20","height":"20","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round","children":[(0,h.jsx)("path",{"d":"M3 7v6h6"}),(0,h.jsx)("path",{"d":"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})},g=function PopIcon(){return(0,h.jsxs)("svg",{"width":"20","height":"20","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round","children":[(0,h.jsx)("path",{"d":"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,h.jsx)("polyline",{"points":"17 8 12 3 7 8"}),(0,h.jsx)("line",{"x1":"12","y1":"3","x2":"12","y2":"15"})]})},x=function ShuffleIcon(){return(0,h.jsxs)("svg",{"width":"20","height":"20","viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round","children":[(0,h.jsx)("polyline",{"points":"16 3 21 3 21 8"}),(0,h.jsx)("line",{"x1":"4","y1":"20","x2":"21","y2":"3"}),(0,h.jsx)("polyline",{"points":"21 16 21 21 16 21"}),(0,h.jsx)("line",{"x1":"15","y1":"15","x2":"21","y2":"21"}),(0,h.jsx)("line",{"x1":"4","y1":"4","x2":"9","y2":"9"})]})},y=function ToolBar(e){var t=e.onUndo,o=e.onShuffle,r=e.onRemove,s=e.undoDisabled,n=void 0!==s&&s,l=e.shuffleDisabled,a=void 0!==l&&l,c=e.removeDisabled,d=void 0!==c&&c;return(0,h.jsxs)(i.G7,{"className":"tool-bar","children":[(0,h.jsxs)(i.G7,{"className":"tool-btn ".concat(n?"disabled":""),"onClick":n?void 0:t,"children":[(0,h.jsx)(i.G7,{"className":"tool-icon","children":(0,h.jsx)(v,{})}),(0,h.jsx)(i.xv,{"className":"tool-name","children":"æ’¤å›"}),(0,h.jsx)(i.xv,{"className":"tool-count","children":n?"0/1":"1/1"})]}),(0,h.jsxs)(i.G7,{"className":"tool-btn ".concat(d?"disabled":""),"onClick":d?void 0:r,"children":[(0,h.jsx)(i.G7,{"className":"tool-icon","children":(0,h.jsx)(g,{})}),(0,h.jsx)(i.xv,{"className":"tool-name","children":"ç§»å‡º"}),(0,h.jsx)(i.xv,{"className":"tool-count","children":d?"0/1":"1/1"})]}),(0,h.jsxs)(i.G7,{"className":"tool-btn ".concat(a?"disabled":""),"onClick":a?void 0:o,"children":[(0,h.jsx)(i.G7,{"className":"tool-icon","children":(0,h.jsx)(x,{})}),(0,h.jsx)(i.xv,{"className":"tool-name","children":"æ´—ç‰Œ"}),(0,h.jsx)(i.xv,{"className":"tool-count","children":a?"0/1":"1/1"})]})]})};function calculateChestLevel(e){var t=e.attempts,o=e.toolsUsed;return 1===t?0===o?m.q2.DIAMOND:1===o?m.q2.GOLD:m.q2.SILVER:2===t?o<=1?m.q2.GOLD:m.q2.SILVER:3===t?o<=2?m.q2.SILVER:m.q2.BRONZE:t>=4&&t<=5&&o<=1?m.q2.SILVER:m.q2.BRONZE}function getChestLevelInfo(e){switch(e){case m.q2.DIAMOND:return{"emoji":"ğŸ’","name":"é’»çŸ³å®ç®±","color":"#00D4FF"};case m.q2.GOLD:return{"emoji":"ğŸ¥‡","name":"é»„é‡‘å®ç®±","color":"#FFD700"};case m.q2.SILVER:return{"emoji":"ğŸ¥ˆ","name":"ç™½é“¶å®ç®±","color":"#C0C0C0"};case m.q2.BRONZE:return{"emoji":"ğŸ¥‰","name":"é’é“œå®ç®±","color":"#CD7F32"}}}function upgradeChestForHero(e){switch(e){case m.q2.BRONZE:return[m.q2.GOLD];case m.q2.SILVER:return[m.q2.DIAMOND];case m.q2.GOLD:return[m.q2.DIAMOND,m.q2.GOLD];case m.q2.DIAMOND:return[m.q2.DIAMOND,m.q2.DIAMOND]}}var b=function ChestModal(e){var t=e.chestLevels,o=e.stats,r=e.gameMode,s=e.canChallengeHero,n=e.onClaim,l=e.onHeroChallenge,a=r===m.GF.HERO,c=t.map(function(e){return getChestLevelInfo(e)}),d=upgradeChestForHero(t[0]).map(function(e){return getChestLevelInfo(e)});return(0,h.jsx)(i.G7,{"className":"chest-modal-overlay","children":(0,h.jsxs)(i.G7,{"className":"chest-modal","children":[(0,h.jsx)(i.xv,{"className":"victory-text","children":a?"ğŸ† Heroé€šå…³ï¼":"ğŸ‰ æ­å–œé€šå…³ï¼"}),(0,h.jsxs)(i.G7,{"className":"chest-container","children":[(0,h.jsx)(i.G7,{"className":"chest-row","children":c.map(function(e,o){return(0,h.jsx)(i.G7,{"className":"chest-display chest-".concat(t[o]),"style":{"borderColor":e.color},"children":(0,h.jsx)(i.xv,{"className":"chest-emoji","children":e.emoji})},o)})}),(0,h.jsx)(i.xv,{"className":"chest-name","style":{"color":c[0].color},"children":t.length>1?"".concat(c.map(function(e){return e.name}).join(" + ")):c[0].name}),a&&(0,h.jsx)(i.xv,{"className":"hero-bonus","children":"ğŸ”¥ HeroåŠ æˆç”Ÿæ•ˆï¼"})]}),(0,h.jsxs)(i.G7,{"className":"stats-container","children":[(0,h.jsxs)(i.G7,{"className":"stat-item","children":[(0,h.jsx)(i.xv,{"className":"stat-label","children":"æŒ‘æˆ˜æ¬¡æ•°"}),(0,h.jsxs)(i.xv,{"className":"stat-value","children":[o.attempts,"æ¬¡"]})]}),(0,h.jsxs)(i.G7,{"className":"stat-item","children":[(0,h.jsx)(i.xv,{"className":"stat-label","children":"é“å…·ä½¿ç”¨"}),(0,h.jsxs)(i.xv,{"className":"stat-value","children":[o.toolsUsed,"ä¸ª"]})]})]}),s&&(0,h.jsxs)(i.G7,{"className":"hero-section","children":[(0,h.jsx)(i.xv,{"className":"hero-title","children":"ğŸ”¥ æŒ‘æˆ˜Heroæ¨¡å¼ï¼Ÿ"}),(0,h.jsxs)(i.xv,{"className":"hero-desc","children":["é€šå…³å¯å‡çº§ä¸º ",d.map(function(e){return"".concat(e.emoji," ").concat(e.name)}).join(" + ")]}),(0,h.jsx)(i.xv,{"className":"hero-warning","children":"âš ï¸ ä»…æœ‰1æ¬¡æœºä¼šï¼Œå¤±è´¥ä¸æ‰£å®ç®±"})]}),(0,h.jsx)(i.G7,{"className":"button-group","children":s?(0,h.jsxs)(h.Fragment,{"children":[(0,h.jsx)(i.zx,{"className":"btn-secondary","onClick":n,"children":"é¢†å–å®ç®±"}),(0,h.jsx)(i.zx,{"className":"btn-primary","onClick":l,"children":"æŒ‘æˆ˜Heroï¼"})]}):(0,h.jsx)(i.zx,{"className":"btn-primary full-width","onClick":n,"children":"é¢†å–å®ç®±"})})]})})},w=[{"day":1,"title":"æ¢¦æƒ³å¯èˆª","subtitle":"The Dream Begins","content":"äº”å²é‚£å¹´çš„å¤å¤©ï¼Œå°é¢–èç¬¬ä¸€æ¬¡èµ°è¿›äº†ä¹’ä¹“çƒé¦†ã€‚çœ‹ç€å¤§å­©å­ä»¬æŒ¥æ‹å‡»çƒçš„æ ·å­ï¼Œå¥¹çš„çœ¼ç›é‡Œé—ªçƒç€å¥½å¥‡çš„å…‰èŠ’ã€‚è¿™ä¸€å¤©ï¼Œä¸€é¢—å…³äºä¹’ä¹“çƒçš„ç§å­ï¼Œåœ¨å¥¹å¿ƒä¸­æ‚„ç„¶ç§ä¸‹ã€‚"},{"day":2,"title":"ç¬¬ä¸€æ¬¡æ¯”èµ›","subtitle":"First Competition","content":"çœé˜Ÿé€‰æ‹”èµ›ä¸Šï¼Œåä¸€å²çš„é¢–èç´§æ¡çƒæ‹ï¼Œæ‰‹å¿ƒå¾®å¾®å‡ºæ±—ã€‚å¯¹é¢æ˜¯æ¯”å¥¹å¤§ä¸¤å²çš„é€‰æ‰‹ï¼Œä½†å¥¹æ²¡æœ‰é€€ç¼©ã€‚ä¸€æ¿åˆä¸€æ¿ï¼Œæ¯ä¸€ä¸ªå›çƒéƒ½å‡èšç€å¥¹è‹¦ç»ƒçš„æ±—æ°´ã€‚æœ€ç»ˆï¼Œå¥¹èµ¢äº†ã€‚"},{"day":3,"title":"å›½å®¶é˜Ÿçš„é—¨","subtitle":"National Team Calling","content":"2015å¹´çš„é‚£ä¸ªç§‹å¤©ï¼Œåäº”å²çš„é¢–èæ”¶åˆ°äº†å›½å®¶é˜Ÿçš„é‚€è¯·ã€‚å½“å¥¹èµ°è¿›é‚£æ‰‡é—¨çš„æ—¶å€™ï¼Œå¥¹çŸ¥é“ï¼ŒçœŸæ­£çš„æŒ‘æˆ˜æ‰åˆšåˆšå¼€å§‹ã€‚è¿™é‡Œæœ‰æœ€å¼ºçš„å¯¹æ‰‹ï¼Œä¹Ÿæœ‰æœ€å¥½çš„è€å¸ˆã€‚"},{"day":4,"title":"ä½è°·ä¸æˆé•¿","subtitle":"Through the Valley","content":"è¿›å…¥å›½å®¶é˜Ÿçš„ç¬¬ä¸€å¹´å¹¶ä¸é¡ºåˆ©ã€‚è¾“çƒã€ä¼¤ç—…ã€æ€å¿µå®¶äºº...ä½†æ¯ä¸€æ¬¡è·Œå€’ï¼Œå¥¹éƒ½é€‰æ‹©çˆ¬èµ·æ¥ç»§ç»­ç»ƒä¹ ã€‚æ·±å¤œçš„è®­ç»ƒé¦†é‡Œï¼Œåªæœ‰å¥¹å’Œçƒåœ¨å¯¹è¯ã€‚"},{"day":5,"title":"ä¸–ç•Œèˆå°","subtitle":"World Stage","content":"2019å¹´ä¸–é”¦èµ›å¥³åŒå†³èµ›ï¼Œé¢–èå’Œæ­æ¡£é…åˆé»˜å¥‘ï¼Œä¸€è·¯è¿‡å…³æ–©å°†ã€‚å½“é‡‘ç‰ŒæŒ‚åœ¨èƒ¸å‰çš„é‚£ä¸€åˆ»ï¼Œå¥¹ç»ˆäºå¯ä»¥éª„å‚²åœ°è¯´ï¼šæˆ‘åšåˆ°äº†ã€‚"},{"day":6,"title":"å¥¥è¿æ¢¦åœ†","subtitle":"Olympic Dream","content":"ä¸œäº¬å¥¥è¿ä¼šçš„èµ›åœºä¸Šï¼Œé¢–èä»£è¡¨ä¸­å›½é˜Ÿç«™åœ¨äº†æœ€é«˜çš„èˆå°ã€‚è™½ç„¶å•æ‰“å†³èµ›æƒœè´¥ï¼Œä½†å¥¹ç”¨å®åŠ›è¯æ˜äº†è‡ªå·±çš„ä¸–ç•Œçº§æ°´å‡†ã€‚é“¶ç‰Œçš„é‡é‡ï¼Œæ˜¯æœªæ¥æ›´å¤§æ¢¦æƒ³çš„èµ·ç‚¹ã€‚"},{"day":7,"title":"ç‹è€…ä¹‹è·¯","subtitle":"Path of Champions","content":"2023å¹´ï¼Œé¢–èç™»é¡¶ä¸–ç•Œç¬¬ä¸€ã€‚ä»äº”å²çš„å°å¥³å­©åˆ°ä¸–ç•Œå† å†›ï¼Œå¥¹ç”¨åå…«å¹´çš„åšæŒè¯ é‡Šäº†ä»€ä¹ˆæ˜¯æ¢¦æƒ³çš„åŠ›é‡ã€‚è€Œè¿™ï¼Œåªæ˜¯å¼€å§‹..."}],k=function getStoryByDay(e){return w.find(function(t){return t.day===e})||null},C=function StoryModal(e){var t=e.storyDay,o=e.onComplete,r=(0,l.useState)(""),s=(0,n.Z)(r,2),a=s[0],c=s[1],d=(0,l.useState)(!1),u=(0,n.Z)(d,2),m=u[0],p=u[1],f=(0,l.useState)(!1),v=(0,n.Z)(f,2),g=v[0],x=v[1],y=k(t);(0,l.useEffect)(function(){if(y){var e=setTimeout(function(){x(!0)},1e3),t=y.content,r=0,s=setInterval(function(){r<t.length?(c(t.slice(0,r+1)),r++):(clearInterval(s),p(!0))},50);return function(){clearTimeout(e),clearInterval(s)}}o()},[y,o]);return y?(0,h.jsx)(i.G7,{"className":"story-modal-overlay","children":(0,h.jsxs)(i.G7,{"className":"story-modal","children":[(0,h.jsxs)(i.G7,{"className":"story-header","children":[(0,h.jsxs)(i.xv,{"className":"story-day","children":["Day ",t]}),(0,h.jsx)(i.xv,{"className":"story-title","children":y.title}),(0,h.jsx)(i.xv,{"className":"story-subtitle","children":y.subtitle})]}),(0,h.jsxs)(i.G7,{"className":"story-content","children":[(0,h.jsx)(i.xv,{"className":"story-text","children":a}),!m&&(0,h.jsx)(i.xv,{"className":"typing-cursor","children":"|"})]}),(0,h.jsxs)(i.G7,{"className":"story-actions","children":[g&&!m&&(0,h.jsx)(i.zx,{"className":"skip-btn","onClick":function handleSkip(){y&&(c(y.content),p(!0))},"children":"è·³è¿‡"}),m&&(0,h.jsx)(i.zx,{"className":"continue-btn","onClick":function handleContinue(){o()},"children":"ç»§ç»­ â†’"})]})]})}):null},j=function isTileBlocked(e,t){return t.some(function(t){if(t.id===e.id)return!1;if(t.layer<=e.layer)return!1;var o=Math.abs(t.x-e.x)<2,r=Math.abs(t.y-e.y)<2;return o&&r})},S=function updateClickableStatus(e){return e.map(function(t){return(0,s.Z)((0,s.Z)({},t),{},{"isClickable":!j(t,e)})})},N=function checkMatch(e){var t={};e.forEach(function(e){t[e.type]=(t[e.type]||0)+1});var o=Object.keys(t).find(function(e){return t[e]>=3});if(o){var r=0;return{"newSlots":e.filter(function(e){return!(e.type===o&&r<3)||(r++,!1)}),"matched":!0}}return{"newSlots":e,"matched":!1}},E=function getDailyLayoutSeed(){var e=new Date;return function hashString(e){for(var t=0,o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;return Math.abs(t)}("".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")))},T=function generateDailyLayout(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75,o=function createSeededRandom(e){var t=e;return function(){return(t=1103515245*t+12345&2147483647)/2147483647}}(e),r=[],s=0;s<t;s++)r.push({"x":Math.floor(9*o()),"y":Math.floor(12*o()),"layer":Math.floor(6*o())});return r.sort(function(e,t){return e.layer-t.layer}),r},L=function assignRandomTileTypes(e){for(var t=Object.values(m.YU),o=Math.floor(e.length/3),r=[],s=0;s<o;s++){var n=t[Math.floor(Math.random()*t.length)];r.push(n,n,n)}for(var l=r.length-1;l>0;l--){var i=Math.floor(Math.random()*(l+1)),a=[r[i],r[l]];r[l]=a[0],r[i]=a[1]}var c=e.map(function(e,t){return{"id":"tile-".concat(t),"type":r[t]||m.YU.STAR,"x":e.x,"y":e.y,"layer":e.layer,"isClickable":!0}});return S(c)},M=function generateHeroLevel(e){var t=function generateHeroLayout(e){for(var t=function createSeededRandom(e){var t=e;return function(){return(t=1103515245*t+12345&2147483647)/2147483647}}(e+1e3),o=[],r=0;r<150;r++)o.push({"x":Math.floor(9*t()),"y":Math.floor(12*t()),"layer":Math.floor(8*t())});return o.sort(function(e,t){return e.layer-t.layer}),o}(e);return function assignHeroTileTypes(e){for(var t=Object.values(m.YU),o=[].concat(t),r=Math.floor(e.length/3),s=[],n=0;n<r;n++){var l=o[Math.floor(Math.random()*o.length)];s.push(l,l,l)}for(var i=s.length-1;i>0;i--){var a=Math.floor(Math.random()*(i+1)),c=[s[a],s[i]];s[i]=c[0],s[a]=c[1]}var h=e.map(function(e,t){return{"id":"hero-tile-".concat(t),"type":s[t]||m.YU.STAR,"x":e.x,"y":e.y,"layer":e.layer,"isClickable":!0}});return S(h)}(t)},O=o(5589),D=function Game(){var e=a.ZP.useRouter(),t=(0,l.useState)([]),o=(0,n.Z)(t,2),c=o[0],d=o[1],v=(0,l.useState)([]),g=(0,n.Z)(v,2),x=g[0],w=g[1],j=(0,l.useState)([[],[],[]]),D=(0,n.Z)(j,2),_=D[0],G=D[1],A=(0,l.useState)("playing"),R=(0,n.Z)(A,2),H=R[0],U=R[1],Z=(0,l.useState)(m.GF.NORMAL),F=(0,n.Z)(Z,2),B=F[0],I=F[1],V=(0,l.useState)({"attempts":1,"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1}),z=(0,n.Z)(V,2),P=z[0],$=z[1],Y=(0,l.useState)([m.q2.BRONZE]),W=(0,n.Z)(Y,2),X=W[0],J=W[1],K=(0,l.useState)(!1),Q=(0,n.Z)(K,2),ee=Q[0],te=Q[1],oe=(0,l.useState)(!1),re=(0,n.Z)(oe,2),se=re[0],ne=re[1],le=(0,l.useState)(!1),ie=(0,n.Z)(le,2),ae=ie[0],ce=ie[1],he=(0,l.useState)(!1),de=(0,n.Z)(he,2),ue=de[0],me=de[1],pe=(0,l.useState)(0),fe=(0,n.Z)(pe,2),ve=fe[0],ge=fe[1],xe=(0,l.useRef)([]),ye=(0,l.useRef)(0);(0,l.useEffect)(function(){var t=E();if(ye.current=t,xe.current=T(t,75),"hero"===e.params.mode){var o,r=(null===(o=(0,O.yu)().pendingChest)||void 0===o||null===(o=o.levels)||void 0===o?void 0:o[0])||m.q2.BRONZE;J([r]);var s=M(t);d(s),w([]),G([[],[],[]]),U("playing"),I(m.GF.HERO),te(!0),ne(!0)}else be()},[]);var be=function startNewGame(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=L(xe.current);d(t),w([]),G([[],[],[]]),U("playing"),ce(!1),e?$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})}):($({"attempts":1,"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1}),I(m.GF.NORMAL))},we=function handleRetry(){if($(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"attempts":e.attempts+1})}),B===m.GF.HERO){var e=M(ye.current);d(e),w([]),G([[],[],[]]),U("playing"),ce(!1),$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})})}else be(!0)},ke=function handleClaim(){console.log("handleClaim - heroAttempted:",ee,"gameMode:",B),(0,O.Z9)(X,B===m.GF.HERO),(0,O.gv)(P.attempts,!0,X[0],ee,B===m.GF.HERO&&"won"===H),ce(!1),U("won"),a.ZP.reLaunch({"url":"/pages/home/index"})},Ce=se&&!ee;return(0,h.jsxs)(i.G7,{"className":"game-page ".concat(B===m.GF.HERO?"hero-mode":""),"children":[(0,h.jsxs)(i.G7,{"className":"header ".concat(B===m.GF.HERO?"hero-header":""),"children":[(0,h.jsxs)(i.G7,{"className":"stats-row","children":[(0,h.jsx)(i.xv,{"className":"day-text ".concat(B===m.GF.HERO?"hero-title":""),"children":B===m.GF.HERO?"ğŸ”¥ HERO MODE":"Day 1"}),(0,h.jsxs)(i.xv,{"className":"attempt-text ".concat(B===m.GF.HERO?"hero-attempt":""),"children":["ç¬¬ ",P.attempts," æ¬¡æŒ‘æˆ˜"]})]}),(0,h.jsxs)(i.G7,{"className":"header-right","children":[(0,h.jsx)(i.zx,{"className":"test-win-btn","onClick":function handleTestWin(){if("playing"===H){var e;if(d([]),w([]),G([[],[],[]]),U("won"),B===m.GF.HERO){var t=upgradeChestForHero(X[0]);J(t),e=t[0],ce(!0)}else{e=calculateChestLevel(P),J([e]),ne(!0);var o=(0,O.cn)(),r=k(o);o>0&&r?(ge(o),me(!0)):ce(!0)}var s=(0,O.yu)();(0,O.EG)(B,e,s.consecutiveDays)}},"children":"ğŸ¯ ä¸€é”®è¿‡å…³"}),(0,h.jsx)(i.G7,{"className":"tools-status","children":(0,h.jsxs)(i.xv,{"children":["é“å…·: ",P.toolsUsed,"/3"]})})]})]}),(0,h.jsx)(u,{"tiles":c,"onTileClick":function handleTileClick(e){if("playing"===H&&!(x.length>=m.j$)){var t=c.filter(function(t){return t.id!==e.id}),o=S(t),s=[].concat((0,r.Z)(x),[e]);d(o),w(s);var n=N(s),l=n.newSlots;n.matched?w(l):l.length>=m.j$?U("lost"):w(l);var i=_.reduce(function(e,t){return e+t.length},0);if(0===o.length&&0===l.length&&0===i){var a,h;if(U("won"),B===m.GF.HERO)h=upgradeChestForHero(X[0]),J(h),a=h[0],ce(!0);else{a=calculateChestLevel(P),J(h=[a]),ne(!0);var u=(0,O.cn)(),p=k(u);u>0&&p?(ge(u),me(!0)):ce(!0)}var f=(0,O.yu)();(0,O.EG)(B,a,f.consecutiveDays)}}}}),(0,h.jsx)(f,{"stacks":_,"onStackClick":function handleTempStackClick(e){if("playing"===H){var t=function returnTileFromTempStack(e,t,o,s){if(t.length>=s)return{"newSlot":t,"newTempStacks":o,"success":!1};if(e<0||e>=o.length)return{"newSlot":t,"newTempStacks":o,"success":!1};if(0===o[e].length)return{"newSlot":t,"newTempStacks":o,"success":!1};var n=o.map(function(e){return(0,r.Z)(e)}),l=n[e].pop();return{"newSlot":[].concat((0,r.Z)(t),[l]),"newTempStacks":n,"success":!0}}(e,x,_,m.j$),o=t.newSlot,s=t.newTempStacks;if(t.success){G(s);var n=N(o),l=n.newSlots;n.matched?w(l):l.length>=m.j$?U("lost"):w(l)}}}}),(0,h.jsx)(p,{"tiles":x}),(0,h.jsx)(y,{"onUndo":function handleUndo(){if("playing"===H&&!P.undoUsed){var e=function undoLastTile(e,t){if(0===t.length)return{"newBoard":e,"newSlot":t,"success":!1};var o=t[t.length-1],s=t.slice(0,-1),n=[].concat((0,r.Z)(e),[o]);return{"newBoard":S(n),"newSlot":s,"success":!0}}(c,x),t=e.newBoard,o=e.newSlot;e.success&&(d(t),w(o),$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"undoUsed":!0})}))}},"onShuffle":function handleShuffle(){if("playing"===H&&!P.shuffleUsed){var e=function shuffleBoard(e){for(var t=e.map(function(e){return{"x":e.x,"y":e.y,"layer":e.layer}}),o=(0,r.Z)(t),n=o.length-1;n>0;n--){var l=Math.floor(Math.random()*(n+1)),i=[o[l],o[n]];o[n]=i[0],o[l]=i[1]}var a=e.map(function(e,t){return(0,s.Z)((0,s.Z)({},e),{},{"x":o[t].x,"y":o[t].y,"layer":o[t].layer})});return S(a)}(c);d(e),$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"shuffleUsed":!0})})}},"onRemove":function handleRemove(){if("playing"===H&&0!==x.length&&!P.popUsed){var e=function popTilesToTemp(e,t){if(0===e.length)return{"remainSlot":e,"newTempStacks":t,"success":!1};var o=Math.min(e.length,3),s=e.slice(0,o),n=e.slice(o),l=3===t.length?t.map(function(e){return(0,r.Z)(e)}):[[],[],[]];return s.forEach(function(e,t){l[t].push(e)}),{"remainSlot":n,"newTempStacks":l,"success":!0}}(x,_),t=e.remainSlot,o=e.newTempStacks;e.success&&(w(t),G(o),$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":e.toolsUsed+1,"popUsed":!0})}))}},"undoDisabled":P.undoUsed,"shuffleDisabled":P.shuffleUsed,"removeDisabled":P.popUsed}),ue&&(0,h.jsx)(C,{"storyDay":ve,"onComplete":function handleStoryComplete(){(0,O.OO)(ve),me(!1),ce(!0)}}),ae&&"won"===H&&(0,h.jsx)(b,{"chestLevels":X,"stats":P,"gameMode":B,"canChallengeHero":Ce,"onClaim":ke,"onHeroChallenge":function startHeroMode(){var e=M(ye.current);d(e),w([]),G([[],[],[]]),U("playing"),ce(!1),I(m.GF.HERO),te(!0),$(function(e){return(0,s.Z)((0,s.Z)({},e),{},{"toolsUsed":0,"undoUsed":!1,"shuffleUsed":!1,"popUsed":!1})})},"onClose":ke}),"lost"===H&&B===m.GF.NORMAL&&(0,h.jsx)(i.G7,{"className":"overlay","children":(0,h.jsxs)(i.G7,{"className":"lost-modal","children":[(0,h.jsx)(i.xv,{"className":"lost-title","children":"æŒ‘æˆ˜å¤±è´¥"}),(0,h.jsx)(i.xv,{"className":"lost-msg","children":"æ§½ä½å·²æ»¡ï¼Œæ— æ³•ç»§ç»­æ¶ˆé™¤"}),(0,h.jsxs)(i.xv,{"className":"lost-attempt","children":["æœ¬æ¬¡æŒ‘æˆ˜ï¼šç¬¬ ",P.attempts," æ¬¡"]}),(0,h.jsx)(i.zx,{"className":"retry-btn","onClick":we,"children":"å†æ¥ä¸€æ¬¡"})]})}),"lost"===H&&B===m.GF.HERO&&(0,h.jsx)(i.G7,{"className":"overlay","children":(0,h.jsxs)(i.G7,{"className":"lost-modal hero-lost","children":[(0,h.jsx)(i.xv,{"className":"lost-title","children":"HeroæŒ‘æˆ˜å¤±è´¥"}),(0,h.jsx)(i.xv,{"className":"lost-msg","children":"å†è¯•ä¸€æ¬¡ï¼Œæˆ–é¢†å–å½“å‰å®ç®±"}),(0,h.jsxs)(i.xv,{"className":"chest-keep","children":["å½“å‰ ",X[0]===m.q2.DIAMOND?"ğŸ’":X[0]===m.q2.GOLD?"ğŸ¥‡":X[0]===m.q2.SILVER?"ğŸ¥ˆ":"ğŸ¥‰"," å®ç®±"]}),(0,h.jsxs)(i.xv,{"className":"lost-attempt","children":["æœ¬æ¬¡æŒ‘æˆ˜ï¼šç¬¬ ",P.attempts," æ¬¡"]}),(0,h.jsx)(i.zx,{"className":"retry-btn","onClick":we,"children":"å†æ¥ä¸€æ¬¡"}),(0,h.jsx)(i.zx,{"className":"claim-btn-secondary","onClick":ke,"children":"é¢†å–å®ç®±"})]})})]})}},"5251":function(e,t,o){var r=o(7294),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={"key":!0,"ref":!0,"__self":!0,"__source":!0};function q(e,t,o){var r,n={},c=null,h=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)l.call(t,r)&&!a.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{"$$typeof":s,"type":e,"key":c,"ref":h,"props":n,"_owner":i.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},"5893":function(e,t,o){e.exports=o(5251)}}]);