"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[623],{"1623":function(e,n,s){s.r(n);var t=s(500),o=s(5271),a=s(2795),r=s(1433),c=s(3809),i=s(6562),l=s(2676);n.default=function IntroPage(){var e=(0,o.useState)(0),n=(0,t.Z)(e,2),s=n[0],u=n[1],g=(0,o.useState)(!1),h=(0,t.Z)(g,2),d=h[0],f=h[1],x=[{"en":"In the vast ocean of stars...","cn":"在浩瀚的星海之中……"},{"en":"A legend is whispered among the waves.","cn":"流传着一个关于波涛的传说。"},{"en":"The Shark Star.","cn":"那是……鲨之星。"},{"en":"It is said to bring fortune to those who dare to seek it.","cn":"传说它将为勇敢的寻觅者带来无尽的幸运。"},{"en":"Your journey begins now.","cn":"你的旅程，由此开始。"}];(0,o.useEffect)(function(){console.log("IntroPage mounted");try{var e=(0,r.FN)().router,n=(null==e?void 0:e.path)||"";if(console.log("Current path:",n),!n||"/"===n||n.includes("/pages/intro/index"))console.log("Root access: always show intro"),f(!0);else{var s=(0,i.yu)();console.log("Direct subpage access, progress:",s),null!=s&&s.hasSeenIntro?(console.log("Intro already seen, redirecting..."),p()):(console.log("Intro not seen yet, showing intro"),f(!0))}}catch(e){console.error("Error in IntroPage useEffect:",e),f(!0)}},[]);var p=function redirectToHome(){console.log("Attempting to navigate to starlight..."),c.ZP.switchTab({"url":"/pages/starlight/index","success":function success(){console.log("Navigation successful")},"fail":function fail(e){console.error("Navigation failed:",e),c.ZP.navigateTo({"url":"/pages/starlight/index","fail":function fail(e){console.error("Fallback navigateTo failed:",e),c.ZP.reLaunch({"url":"/pages/starlight/index"})}})}})},v=function finishIntro(){(0,i.i6)(),p()};return(0,l.jsxs)(a.G7,{"className":"intro-page","children":[(0,l.jsx)(a.G7,{"className":"story-container ".concat(d?"fade-in":"fade-out"),"children":(0,l.jsxs)(a.G7,{"className":"text-wrapper","children":[(0,l.jsx)(a.xv,{"className":"story-text-cn","children":x[s].cn}),(0,l.jsx)(a.xv,{"className":"story-text-en","children":x[s].en})]})}),(0,l.jsxs)(a.G7,{"className":"controls","children":[s<x.length-1?(0,l.jsx)(a.G7,{"className":"tap-hint","onClick":function handleNext(){s<x.length-1?(f(!1),setTimeout(function(){u(s+1),f(!0)},300)):v()},"children":(0,l.jsx)(a.xv,{"children":"点击继续"})}):(0,l.jsx)(a.zx,{"className":"start-btn","onClick":v,"children":"开启旅程"}),(0,l.jsx)(a.G7,{"className":"skip-btn","onClick":v,"children":(0,l.jsx)(a.xv,{"children":"跳过"})})]})]})}}}]);